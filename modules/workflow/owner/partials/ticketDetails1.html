
<div id="Tasks-detail-menu" class="tab-pane fade in" > 
    <div class="section-heading">
        <h4>Tickets Listing</h4>
        <!-- <p>Create new requisition for recruitment from customers.</p> -->
      </div>
     <div class="section-content" style="padding: 0 14px 0 14px;">
      <div class="upper-actions">
        <div class="col-md-5">
        </div>
          <div class="col-md-7 col-lg-7 pull-right">
            <div class="row">
            <div class="srch-uppr" style="float: right; margin-top: 27px; ">
              
            <div class="button-group" style="text-align: right;display: inline-block;padding-left: 10px;">
               <button class="btn btn-default btn-create" id="create-report-btn" style="background:#1fa67a;" ng-click="generateExcel()"><i class="fa fa-file-excel-o"></i></button>
            </div>
          <div class="search-cntnr" style="float: initial;width: 54%;">
            <div class="form-group search-box">
              <input type="text" name="" class="form-control flat-control-search">
              <i class="icon-search"></i>
            </div>
          </div>
          <div class="button-group" style="padding-left: 10px;">
            <button class="btn btn-default btn-create" id="create-req-btn" style="margin-right: 0px;"><i class="fa fa-check-square-o"></i></button>
          </div>
        </div>
          </div>
        </div>
      </div>
      <div class="table-cntnr">

        <table class="table table-striped table-bordered red-table " >
          <caption class="det-caption collaps-click-head">
            <p>Workflow1</p>
            <p>TIcket No. R1</p>
          </caption>
          <tr style="display:none" class="collaps-div-head">
                <td>
                  
                  <div class="col-md-4" ng-repeat="pf in ticketDetails.preFilledFields" ng-init="currentIndex=$index;">
                
                 <div ng-if="pf.fieldMasterId == 1">
                  <div class="form-group" style="display: inline-block;width: 100%">
                  
                  <div ng-repeat="xx in pf.validationList">
                  <div ng-if="xx.id === 1 ">
                  <label style="">{{pf.label}}</label>
                  <input type="text" class="form-control flat-control-inner" ng-model="pf.fieldValue"  ng-disabled="!ticketDetails.prefilledFieldFlag" style="display: inline-block;" ng-required="{{pf.required}}" maxLength="{{xx.validationValue}}" allow2>
                  </div>
                  <div ng-if="xx.id === 2">
                  <label style="">{{pf.label}}</label>
                  <input type="text" class="form-control flat-control-inner" ng-model="pf.fieldValue"  ng-disabled="!ticketDetails.prefilledFieldFlag" style="display: inline-block;" ng-required="{{pf.required}}" maxLength="{{xx.validationValue}}" allow1>
                  </div>
                  <div ng-if="xx.id === 3 ">
                  <label style="">{{pf.label}}</label>
                  <input type="password" class="form-control flat-control-inner" ng-model="pf.fieldValue"  ng-disabled="!ticketDetails.prefilledFieldFlag" style="display: inline-block;" ng-required="{{pf.required}}" maxLength="{{xx.validationValue}}" >
                  </div>
                  <div ng-if="xx.id === 4 ">
                  <label style="">{{pf.label}}</label>
                  <input type="email" ng-pattern = '/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i' class="form-control flat-control-inner" ng-model="pf.fieldValue"  ng-disabled="!ticketDetails.prefilledFieldFlag" style="display: inline-block;" ng-required="{{pf.required}}" maxLength="{{xx.validationValue}}" >
                  </div>
                  <div ng-if="xx.id === 16">
                  <label style="width: 20%;">{{pf.label}}</label>
                  <input type="text" class="form-control flat-control-inner" ng-model="pf.fieldValue"  ng-disabled="!ticketDetails.prefilledFieldFlag" style="display: inline-block;width: 50%;margin-left: 10px;" ng-required="{{pf.required}}" maxLength="{{xx.validationValue}}" >
                  </div>
                  </div>
                  <span style="color:red;">{{errorMsg}}</span>                  
                  </div>
                 </div>
                 
                 <div ng-if="pf.fieldMasterId ==2 ">
                 
                  <div class="form-group" style="display: inline-block;width: 100%">
                  <label class="ticket-label" style="bottom: 0px;">{{pf.label}}</label>
                  <input type="text" class="form-control flat-control-inner" id="{{pf.fieldMasterId}}{{$index}}" ng-model="pf.fieldValue" ng-blur="validateFieldValue(pf.fieldValue,$index)"   ng-disabled="!ticketDetails.prefilledFieldFlag" style="display: inline-block;margin-bottom: 0px;" ng-required="{{pf.required}}" maxLength="{{pf.validationList[0].validationValue}}">                 
                  <span id="textArea-{{pf.fieldMasterId}}{{$index}}"></span>
                  </div>
                 </div>
                 
                 <div ng-if="pf.fieldMasterId ==8 "> 
                 <div class="form-group" style="display: inline-block;width: 100%">
                 <div ng-repeat="xp in pf.validationList ">
                  <label style="position: relative;">{{pf.label}}</label>
                  <div class="input-group" style="">
                  <input type="text" id="{{xp.validationValue}}" ng-model="pf.fieldValue"  onclick="getDatepicker(this);"  ng-disabled="!ticketDetails.prefilledFieldFlag" class="form-control flat-control-inner dateonly" style="display: inline-block;width: 100%;">
                  <span class="input-group-addon" onclick="getDatepicker(this);" style="padding: 11px 12px;">
                	 <span class="glyphicon glyphicon-calendar"></span>
              	  </span>
              	  </div>
                </div>
                </div>
                
                 <div ng-if="pf.fieldMasterId ==5">
                 <div class="form-group" style="display: inline-block;width: 100%">
                  <label style="">{{pf.label}}</label>
                  
                  <select class="form-control flat-control-inner with-caret" ng-model="pf.fieldValue"  ng-disabled="!ticketDetails.prefilledFieldFlag" style="display: inline-block;width: 100%;">
                    <option value="">--select--</option>
                    <option ng-repeat="x in pf.wf_Options" value="{{x.optionLabel}}">{{x.optionLabel}}</option>
                  </select> 
                </div>
                 </div>
                
                 <div ng-if="pf.fieldMasterId ==4">
                 <div class="form-group" style="display: inline-block;width: 100%" >
                  <label style="">{{pf.label}}</label>
                      <div class="prefill" style="" >
                        <div class="chckbx-cntnr" ng-repeat="x1 in pf.wf_Options " style="margin: 0px 0 5px;display: inline-block;width: 50%;">
                       <!--  <input type='checkbox' value="{{x}}" check-list='checked_fruits'> -->
                         <input type="checkbox" id="{{x1.optionId}}" class="flashadmin" name="check-group-{{currentIndex}}"  ng-checked="{{x1.optionValue}}" ng-model="x1.optionValue"  check-list="x1.optionValue" class="" ng-disabled="!ticketDetails.prefilledFieldFlag" > 
                          <label class="cstmchk_lbladmin" for="{{x1.optionId}}" style="left: 0 !important;">
                          <p class="expense-trvl">{{x1.optionLabel}}</p> 
                        </label> 
                        </div>                       
                      </div>
                  </div>
                 </div>
                 <div ng-if="pf.fieldMasterId ==3">
                 <div class="form-group" style="display:block;width: 100%">
                     <label class="ticket-label" style="width: 20%;">{{pf.label}}</label>
                      <div class="prefill" style="display: inline-block;width: 69%;">                        
                        <div class="radio-cntnr new-chc" style="float: left;width: 21%;margin-right: 0px;" ng-repeat="x2 in pf.wf_Options ">
                        <input type="radio" id="{{x2.optionId}}" name="radio-group{{currentIndex}}" ng-model="pf.fieldValue"  value="{{x2.optionLabel}}" ng-disabled="!ticketDetails.prefilledFieldFlag"> <label for="{{x2.optionId}}"></label>
                        <p class="radio-sub-head" style="margin-left: 34px;">{{x2.optionLabel}}</p>
                        </div>
                      </div>

                  </div>
                 </div>                
                 
                 <div ng-if="pf.fieldMasterId ==6">
                 <div class="form-group" style="display: inline-block;width: 100%">
                  <label style="width: 20%;">{{pf.label}}</label>
                  
                  <div class="input-group">
                                <input type="text" id="docfilepath" class="form-control flat-control-inner ng-pristine ng-valid ng-empty ng-touched" ng-disabled="!ticketDetails.prefilledFieldFlag" readonly="" ng-model="selectedfile">
                                 <span class="input-group-btn" style="width: 0px;">
                                    <span class="btn btn-primary btn-file" style="padding: 12px;"> Browse</span>
                                </span> 
                 </div>
                </div>
                 </div>
                 </div>
                </div>
                
                  <div class="clearfix"></div>
                  <div class="btn-cntnr" style="text-align: right;">
                  <button class="btn btn-default btn-bluer" id="cancel-req-btn" ng-click="updateTicket(ticketDetails.preFilledFields,true,false,false,false);" style="margin-right: 20px;">update</button>
                  <!-- <button class="btn btn-default btn-bluer" id="cancel-req-btn" style="margin-right: 20px;">Submit</button> -->
                  <a href="">Cancel</a></div>
                  </td>
              </tr>
        </table>
        <div class="container-fluid clearfix" style="padding:0px;">
            <div class="tb-data-show new clearfix">               
                    <div>Task Name</div>
                    <div>Assigned To <i class="fa fa-sort" aria-hidden="divue"></i></div>
                    <div>Start Date <i class="fa fa-sort" aria-hidden="divue"></i></div>
                    <div>End Date <i class="fa fa-sort" aria-hidden="divue"></i></div>
                    <div>Estimated Date <i class="fa fa-sort" aria-hidden="divue"></i></div>               
                    <div>Status <i class="fa fa-sort" aria-hidden="divue"></i></div>
                 
              </div>
              <div class="tast-div-on">
              <div  ng-repeat="td in ticketDetails.ticketTasks" ng-init="cuIndex=$index; edit=td.editFlag" >           
                <div class="collaps-click tb-data-show new2 clearfix" ng-click="collapsedData(cuIndex);">
                      <div>
                          <p class="task-wid blue-clr-txt">{{td.name}} </p> <span class="pull-right" ng-if="td.editFlag"> <i class="fa fa-pencil-square-o green-clr"></i></span>
                      </div>
                      <div>
                          <p class="reasign">{{td.assignedUserName}}
                          </p>
                          <!-- <span class="pull-right">
                          <a class="more-field" data-toggle="modal" data-target="#reassign" ng-click="assignTask(td)" style="cursor:pointer;">Reassign</a>
                          </span> -->
                      </div>
             
                      <div>{{dateformate(td.taskStartDate)}}</div>
                      <div>{{dateformate(td.taskActualEnd)}}</div>
                      <div>{{dateformate(td.taskPlanEndDate)}}</div>
                      <div><span ng-if="td.taskStatusId==2" class="label label-info" style="background-color: #5cb85c;font-size:14px; ">{{td.taskStatus}}</span>
                	<span ng-if="td.taskStatusId==3" class="label label-info" style="background-color: #f3d300;font-size:14px; ">{{td.taskStatus}}</span>
                	<span ng-if="td.taskStatusId==1" class="label label-info" style="background-color: #d9534f;font-size:14px; ">{{td.taskStatus}}</span>
                      
                     <!--  <label class="completed-label">{{td.taskStatus}}</label> --></div>
                  </div>                 
                  <div class="collaps-div col-md-12 clearfix" id="tab{{cuIndex}}">                      
                 <div class="col-md-4" ng-repeat="field in td.wf_FieldMasters" ng-init="currentIndex=$index;">
                 <div ng-if="field.fieldMasterId == 1">
                  <div class="form-group" style="display: inline-block;width: 100%">
                  
                  <div ng-repeat="xx in field.validationList">
                  <div ng-if="xx.id === 1 ">
                  <label style="">{{field.label}}</label>
                  <input type="text" class="form-control flat-control-inner" ng-model="field.fieldValue"  ng-disabled="!{{td.editFlag}}" style="display: inline-block;" ng-required="{{field.required}}" maxLength="{{xx.validationValue}}" allow2>
                  </div>
                  <div ng-if="xx.id === 2">
                  <label style="">{{field.label}}</label>
                  <input type="text" class="form-control flat-control-inner" ng-model="field.fieldValue"  ng-disabled="!{{td.editFlag}}" style="display: inline-block;" ng-required="{{field.required}}" maxLength="{{xx.validationValue}}" allow1>
                  </div>
                  <div ng-if="xx.id === 3 ">
                  <label style="width: 20%;">{{field.label}}</label>
                  <input type="password" class="form-control flat-control-inner" ng-model="field.fieldValue"  ng-disabled="!{{td.editFlag}}" style="display: inline-block;width: 50%;margin-left: 10px;" ng-required="{{field.required}}" maxLength="{{xx.validationValue}}" >
                  </div>
                  <div ng-if="xx.id === 4 ">
                  <label style="">{{field.label}}</label>
                  <input type="email" ng-pattern = '/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i' class="form-control flat-control-inner" ng-model="field.fieldValue"  ng-disabled="!{{td.editFlag}}" style="display: inline-block;" ng-required="{{field.required}}" maxLength="{{xx.validationValue}}" >
                  </div>
                  <div ng-if="xx.id === 16">
                  <label style="width: 20%;">{{field.label}}</label>
                  <input type="text" class="form-control flat-control-inner" ng-model="field.fieldValue"  ng-disabled="!{{td.editFlag}}" style="display: inline-block;width: 50%;margin-left: 10px;" ng-required="{{field.required}}" maxLength="{{xx.validationValue}}" >
                  </div>
                  </div>
                  <span style="color:red;">{{errorMsg}}</span>                  
                  </div>
                 </div>
                 
                 <div ng-if="field.fieldMasterId ==2 ">
                 
                  <div class="form-group" style="display: inline-block;width: 100%">
                  <label class="ticket-label" style="">{{field.label}}</label>
                  <input type="text" class="form-control flat-control-inner" id="{{field.fieldMasterId}}{{$index}}" ng-model="field.fieldValue" ng-blur="validateFieldValue(field.fieldValue,$index)"   ng-disabled="!{{td.editFlag}}" style="display: inline-block;width: 50%;" ng-required="{{field.required}}" maxLength="{{field.validationList[0].validationValue}}">                 
                  <span id="textArea-{{field.fieldMasterId}}{{$index}}"></span>
                </div>
                 </div>
                 
                 <div ng-if="field.fieldMasterId ==8 "> 
                 <div class="form-group" style="display: inline-block;width: 100%">
                 <div ng-repeat="xp in field.validationList ">
                  <label style="position: relative;">{{field.label}}</label>
                  <div class="input-group" style="">
                  <input type="text" id="{{xp.validationValue}}" ng-model="field.fieldValue"  onclick="getDatepicker(this);"   ng-disabled="!{{td.editFlag}}" class="form-control flat-control-inner dateonly" style="display: inline-block;width: 100%;">
                  <span class="input-group-addon" onclick="getDatepicker(this);" style="padding: 11px 12px;">
                	 <span class="glyphicon glyphicon-calendar"></span>
              	  </span>
              	  </div>
                </div>
                </div>
                 
                 </div>
                
                
                 <div ng-if="field.fieldMasterId ==4">
                 <div class="form-group" style="display: inline-block;width: 100%" >
                  <label style="">{{field.label}}</label>
                      <div class="prefill" style="" >
                        <div class="chckbx-cntnr" ng-repeat="x1 in field.wf_Options " style="margin: 0px 0 5px;display: inline-block;width: 50%;">
                       <!--  <input type='checkbox' value="{{x}}" check-list='checked_fruits'> -->
                         <input type="checkbox" id="{{x1.optionId}}" class="flashadmin" name="check-group-{{currentIndex}}"  ng-checked="{{x1.optionValue}}" ng-model="x1.optionValue"  check-list="x1.optionValue" class="" ng-disabled="!{{td.editFlag}}" > 
                          <label class="cstmchk_lbladmin" for="{{x1.optionId}}" style="left: 0 !important;">
                          <p class="expense-trvl">{{x1.optionLabel}}</p> 
                        </label> 
                        </div>
                        
                      </div>
                  </div>
                 </div>
                 <div ng-if="field.fieldMasterId ==3">
                 <div class="form-group" style="display:block;width: 100%">
                     <label class="ticket-label" style="width: 20%;">{{field.label}}</label>
                      <div class="prefill" style="display: inline-block;width: 69%;">
                        
                        <div class="radio-cntnr new-chc" style="float: left;width: 21%;margin-right: 0px;" ng-repeat="x2 in field.wf_Options ">
                        <input type="radio" id="{{x2.optionId}}" name="radio-group{{currentIndex}}" ng-model="field.fieldValue"  value="{{x2.optionLabel}}" > <label for="{{x2.optionId}}"></label>
                        <p class="radio-sub-head" style="margin-left: 34px;">{{x2.optionLabel}}</p>
                        </div>
                      </div>

                  </div>
                 </div>                
                 
                 <div ng-if="field.fieldMasterId ==6">
                 <div class="form-group" style="display: inline-block;width: 100%">
                  <label style="width: 20%;">{{field.label}}</label>
                  
                  <div class="input-group">
                                <input type="text" id="docfilepath" class="form-control flat-control-inner ng-pristine ng-valid ng-empty ng-touched" ng-disabled="!{{td.editFlag}}" readonly="" ng-model="selectedfile">
                                 <span class="input-group-btn" style="width: 0px;">
                                    <span class="btn btn-primary btn-file" style="padding: 12px;"> Browse</span>
                                </span> 
                 </div>
                </div>
                 </div>
                 </div>
                  <div class="clearfix"></div>
                  <div class="btn-cntnr" style="text-align: right;" ng-if="td.editFlag">
                  <button class="btn btn-default btn-bluer" id="cancel-req-btn" style="margin-right: 20px;">Save</button>
                  <button class="btn btn-default btn-bluer" id="cancel-req-btn" style="margin-right: 20px;">Submit</button>
                  <a href="">Cancel</a></div>
                
              <!-- <tr>
                <td>Task2</td>
                <td>
                   <p>Department : Office</p>
                   <a class="more-field" data-toggle="modal" data-target="#reassign" style="cursor:pointer;">Reassign</a>
                </td>
                <td><label class="inprogress-label">In Progress</label></td>
                <td>01-08-2018</td>
                <td>01-08-2018</td>
                <td>01-08-2018</td>
              </tr>
                
                
              <tr>
                <td class="td-bdr-none">
                    <div>
                            <p style="display: inline-block">Email Id</p>
                            <input type="text" class="form-control flat-control-inner">
                    
                    </div>
                    
                    <div>
                            <p style="display: inline-block">Address</p>
                            <input type="text" class="form-control flat-control-inner">
                    
                    </div>
                </td>
                  <td class="td-bdr-none">
                  </td>
                  <td class="td-bdr-none">
                  </td>
                  <td class="td-bdr-none">
                  </td>
                  <td class="td-bdr-none">
                  </td>
                  <td class="td-bdr-none">
                  </td>
            </tr>
            <tr>
                <td>Task3</td>
                <td>
                    <p>Department : Galley</p>
                    <a>Reassign</a>
                
                </td>
                <td><label class="inprogress-label">In Progress</label></td>
                <td>01-08-2018</td>
                <td>01-08-2018</td>
                <td>01-08-2018</td>
              </tr>
              <tr class="disabled-row">
                <td class="td-bdr-none">
                    <div>
                            <p style="display: inline-block">Salary</p>
                           <input type="text" class="form-control flat-control-inner" disabled="disabled">
                    
                    </div>
                </td>
                  <td class="td-bdr-none">
                  </td>
                  <td class="td-bdr-none">
                  </td>
                  <td class="td-bdr-none">
                  </td>
                  <td class="td-bdr-none">
                  </td>
                  <td class="td-bdr-none">
                  </td>
             </tr> -->
           
             </div>


              </div> 
              </div>
                <div class="btn-cntnr" style="text-align: right;" >
                 <a ng-click="callbackTicketList()">Back</a>
               </div>
                 

            
        </div>
       
          
      </div>
      </div>
  </div>
  <div class="modal fade" id="assignnmentTaskUser" role="dialog">
          <div class="modal-dialog modal-md add-brand">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Assignment</h4>
              </div>
              <div class="modal-body"> 
                <div class="row">
                <div class="assign-main" ng-repeat="j in ticketListWithTicket">
                	<div class="col-md-3">
                	  <div class="chckbx-cntnr zeromargin" style="margin-top: 10px !important;">
	                    <input type="checkbox" id="tsk-{{j.taskId}}" ng-model="j.checkTaskStatus" name="task-{{j.id}}" type="checkbox" class="flashadmin">
	                    <label class="cstmchk_lbladmin" for="tsk-{{j.taskId}}" style="left: 0px !important;"></label> 
	                     &nbsp;&nbsp;&nbsp;<p class="task-type-modal">{{j.name}}</p>
	                  </div>
	                  
                  	</div>
                  
                  <div class="col-md-4" style="padding: 0px;">
	                <div class="form-group workflow-frm" ng-show="ownerFlag" style="width: 100%;">
	                  <!-- <label>Select Owner Type*</label> -->
	                  <select class="form-control flat-control-inner"  ng-model="usertypeid1" ng-options="owner.id as owner.name for owner in ownersList" ng-change="changeOwnersList(usertypeid1);j.userTypeId=usertypeid1">
	                    <option value="">--Select Owner Type--</option>
	                    <option> </option>             
	                  </select>
	                </div>
	                </div>
	                
                <div class="col-md-5">	
                  <div class="form-group workflow-frm" ng-show="ownerFlag" style="width: 100%;padding: 0px;">
                
                  <!-- <label ng-if="j.userTypeId != 0 && j.userTypeId != undefined">Select Owner*</label> -->
                  
                  <select ng-if="usertypeid1 == 2"    class="form-control flat-control-inner" ng-model="j.groupId" ng-options="g.id as g.name for g in groupsList">
                    <option value="">--Select Group--</option>                
                  </select>
                                                    
                  <input ng-if="usertypeid1 == 1"  
                  class="form-control flat-control-inner" 
                  id="userdetail{{j.taskId}}" 
                  ng-blur="validateUser($index)" 
                  placeholder="employee email" 
                  ng-model="userName"
                  ng-change="fetchEmployeeDetails(userName)" list="userDetails-{{$index}}"/>
				  <input type="hidden" id="userId-{{$index}}" ng-value="529" ng-model="j.userid">
				  <datalist id="userDetails-{{$index}}">
						<option data-ng-repeat="u in EmployeeNumberList" value="{{u.detail}}"   ng-click="" data-id="{{u.id}}" > 
				  </datalist>
				  				  
				  <select ng-if="usertypeid1 == 3"  class="form-control flat-control-inner" ng-model="j.departmentId" ng-options="c.id as c.name for c in categoryList">
                    <option value="">--Select Department--</option>                
                  </select>
                  </div>
                  </div>
                  <div class="clearfix"></div>
                  
                  </div>
                </div>

                <!-- <div class="btn-cntnr" style="margin-left: 60%">
                  <button class="btn btn-default btn-bluer" id="cancel-req-btn" ng-click="assignTaskUserGroupDepartment()">Save</button>
                  <button class="btn" data-dismiss="modal">Cancel</button>
                </div> -->
                <div class="btn-cntnr" style="margin: 0px 0 10px;text-align: right;">
              		<button class="btn btn-default btn-bluer" id="cancel-req-btn" ng-click="assignTaskUserGroupDepartment()">Save</button>
              		<a data-dismiss="modal">Cancel</a>
            	</div>

              </div>
            </div>  
          </div>  
        </div> 










<!-- NEW -CODE -ABOVE -->
<!-- <div id="Tasks-detail-menu" class="tab-pane fade in">
    <div class="section-heading">
        <h4>Tickets Listing</h4>
        <p>Create new requisition for recruitment from customers.</p>
      </div>
     <div class="section-content" style="padding: 0 14px 0 14px;">
      <div class="upper-actions">
        <div class="col-md-5">
        </div>
          <div class="col-md-7 col-lg-7 pull-right">
            <div class="row">
            <div class="srch-uppr" style="float: right; margin-top: 27px;">
              <div class="form-group" style="display: inline-block;">
              <button class="btn btn-default btn-bluer" data-target="#assignnment-details" data-toggle="modal" type="button" style="margin-right:0px !important;padding: 7px 10px;">Assign </button>
              </div>
            <div class="button-group" style="text-align: right;display: inline-block;padding-left: 10px;">
               <button class="btn btn-default btn-create" id="create-report-btn" style="background:#1fa67a;" ng-click="generateExcel()"><i class="fa fa-file-excel-o"></i></button>
            </div>
          <div class="search-cntnr" style="float: initial;width: 54%;">
            <div class="form-group search-box">
              <input type="text" name="" class="form-control flat-control-search">
              <i class="icon-search"></i>
            </div>
          </div>
          <div class="button-group" style="padding-left: 10px;">
            <button class="btn btn-default btn-create" id="create-req-btn" style="margin-right: 0px;"><i class="fa fa-check-square-o"></i></button>
          </div>
        </div>
          </div>
        </div>
      </div>
      <div class="table-cntnr">
		<div class="prefield-area">
        <table class="table table-striped table-bordered" style="margin-bottom: 0px;">
          <caption class="det-caption">
            <p>Workflow1</p>
            <p>TIcket No. R1</p>
          </caption>
          <tr ng-repeat="pf in ticketDetails.preFilledFields" ng-init="currentIndex=$index;">
                
                 <td ng-if="pf.fieldMasterId == 1">
                  <div class="form-group" style="display: inline-block;width: 100%">
                  
                  <div ng-repeat="xx in pf.validationList">
                  <div ng-if="xx.id === 1 ">
                  <label style="width: 20%;">{{pf.label}}</label>
                  <input type="text" class="form-control flat-control-inner" ng-model="pf.fieldValue"  ng-disabled="!ticketDetails.prefilledFieldFlag" style="display: inline-block;width: 25%;" ng-required="{{pf.required}}" maxLength="{{xx.validationValue}}" allow2>
                  </div>
                  <div ng-if="xx.id === 2">
                  <label style="width: 20%;">{{pf.label}}</label>
                  <input type="text" class="form-control flat-control-inner" ng-model="pf.fieldValue"  ng-disabled="!ticketDetails.prefilledFieldFlag" style="display: inline-block;width: 50%;margin-left: 10px;" ng-required="{{pf.required}}" maxLength="{{xx.validationValue}}" allow1>
                  </div>
                  <div ng-if="xx.id === 3 ">
                  <label style="width: 20%;">{{pf.label}}</label>
                  <input type="password" class="form-control flat-control-inner" ng-model="pf.fieldValue"  ng-disabled="!ticketDetails.prefilledFieldFlag" style="display: inline-block;width: 50%;margin-left: 10px;" ng-required="{{pf.required}}" maxLength="{{xx.validationValue}}" >
                  </div>
                  <div ng-if="xx.id === 4 ">
                  <label style="width: 20%;">{{pf.label}}</label>
                  <input type="email" ng-pattern = '/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i' class="form-control flat-control-inner" ng-model="pf.fieldValue"  ng-disabled="!ticketDetails.prefilledFieldFlag" style="display: inline-block;width: 25%;" ng-required="{{pf.required}}" maxLength="{{xx.validationValue}}" >
                  </div>
                  <div ng-if="xx.id === 16">
                  <label style="width: 20%;">{{pf.label}}</label>
                  <input type="text" class="form-control flat-control-inner" ng-model="pf.fieldValue"  ng-disabled="!ticketDetails.prefilledFieldFlag" style="display: inline-block;width: 50%;margin-left: 10px;" ng-required="{{pf.required}}" maxLength="{{xx.validationValue}}" >
                  </div>
                  </div>
                  <span style="color:red;">{{errorMsg}}</span>                  
                  </div>
                 </td>
                 
                 <td ng-if="pf.fieldMasterId ==2 ">
                 
                  <div class="form-group" style="display: inline-block;width: 100%">
                  <label class="ticket-label" style="width: 20%;">{{pf.label}}</label>
                  <textarea class="form-control flat-control-inner" id="{{pf.fieldMasterId}}{{$index}}" ng-model="pf.fieldValue" ng-blur="validateFieldValue(pf.fieldValue,$index)"   ng-disabled="!ticketDetails.prefilledFieldFlag" style="display: inline-block;width: 50%;" ng-required="{{pf.required}}" maxLength="{{pf.validationList[0].validationValue}}"></textarea>                  
                  <span id="textArea-{{pf.fieldMasterId}}{{$index}}"></span>
                </div>
                 </td>
                 
                 <td ng-if="pf.fieldMasterId ==8 "> 
                 <div class="form-group" style="display: inline-block;width: 100%">
                 <div ng-repeat="xp in pf.validationList ">
                  <label style="width: 20%;position: relative;bottom: 15px;">{{pf.label}}</label>
                  <div class="input-group" style="display: inline-block;margin-top: 15px;">
                  <input type="text" id="{{xp.validationValue}}" ng-model="pf.fieldValue"  onclick="getDatepicker(this);"  ng-disabled="!ticketDetails.prefilledFieldFlag" class="form-control flat-control-inner dateonly" style="display: inline-block;width: 83%;">
                  <span class="input-group-addon" onclick="getDatepicker(this);" style="padding: 11px 12px;">
                	 <span class="glyphicon glyphicon-calendar"></span>
              	  </span>
              	  </div>
                </div>
                </div>
                
                 <td ng-if="pf.fieldMasterId ==5">
                 <div class="form-group" style="display: inline-block;width: 100%">
                  <label style="width: 20%;">{{pf.label}}</label>
                  
                  <select class="form-control flat-control-inner with-caret" ng-model="pf.fieldValue"  ng-disabled="!ticketDetails.prefilledFieldFlag" style="display: inline-block;width: 25%;">
                    <option value="">--select--</option>
                    <option ng-repeat="x in pf.wf_Options" value="{{x.optionLabel}}">{{x.optionLabel}}</option>
                  </select> 
                </div>
                 </td>
                
                 <td ng-if="pf.fieldMasterId ==4">
                 <div class="form-group" style="display: inline-block;width: 100%" >
                  <label style="">{{pf.label}}</label>
                      <div class="prefill" style="" >
                        <div class="chckbx-cntnr" ng-repeat="x1 in pf.wf_Options " style="margin: 0px 0 5px;display: inline-block;width: 50%;">
                        <input type='checkbox' value="{{x}}" check-list='checked_fruits'>
                         <input type="checkbox" id="{{x1.optionId}}" class="flashadmin" name="check-group-{{currentIndex}}"  ng-checked="{{x1.optionValue}}" ng-model="x1.optionValue"  check-list="x1.optionValue" class="" ng-disabled="!ticketDetails.prefilledFieldFlag" > 
                          <label class="cstmchk_lbladmin" for="{{x1.optionId}}" style="left: 0 !important;">
                          <p class="expense-trvl">{{x1.optionLabel}}</p> 
                        </label> 
                        </div>                       
                      </div>
                  </div>
                 </td>
                 <td ng-if="pf.fieldMasterId ==3">
                 <div class="form-group" style="display:block;width: 100%">
                     <label class="ticket-label" style="width: 20%;">{{pf.label}}</label>
                      <div class="prefill" style="display: inline-block;width: 69%;">                        
                        <div class="radio-cntnr new-chc" style="float: left;width: 21%;margin-right: 0px;" ng-repeat="x2 in pf.wf_Options ">
                        <input type="radio" id="{{x2.optionId}}" name="radio-group{{currentIndex}}" ng-model="pf.fieldValue"  value="{{x2.optionLabel}}" ng-disabled="!ticketDetails.prefilledFieldFlag"> <label for="{{x2.optionId}}"></label>
                        <p class="radio-sub-head" style="margin-left: 34px;">{{x2.optionLabel}}</p>
                        </div>
                      </div>

                  </div>
                 </td>                
                 
                 <td ng-if="pf.fieldMasterId ==6">
                 <div class="form-group" style="display: inline-block;width: 100%">
                  <label style="width: 20%;">{{pf.label}}</label>
                  
                  <div class="input-group">
                                <input type="text" id="docfilepath" class="form-control flat-control-inner ng-pristine ng-valid ng-empty ng-touched" ng-disabled="!ticketDetails.prefilledFieldFlag" readonly="" ng-model="selectedfile">
                                 <span class="input-group-btn" style="width: 0px;">
                                    <span class="btn btn-primary btn-file" style="padding: 12px;"> Browse</span>
                                </span> 
                 </div>
                </div>
                 </td>
                 </tr>
                 
        </table>
        <div class="btn-cntnr" style="float:right;vertical-align:middle;">
                  <button class="btn btn-default btn-bluer" id="cancel-req-btn">Save</button>
                  <a href="">Submit</a>
                </div>
        </div>
        <div class="fill-taks">
          <table class="table table-striped table-bordered">
            <thead>
              <tr>
                <th style="min-width: 185px;"></th>
                <th>Assigned To </th>
                <th>Status </th>
                <th>Start Date </th>
                <th>End Date </th>
                <th>Estimated Date </th>
              </tr>
            </thead>
            <tbody ng-repeat="td in ticketDetails.ticketTasks" ng-if="td.restrictedFlag">           
                <tr>                 
                        <td>{{td.name}}</td>
                        <td>
                            <p>Department : Office</p>
                        </td>
                        <td><label class="completed-label">{{td.taskStatus}}</label></td>
                        <td>{{dateformate(td.taskStartDate)}}</td>
                        <td>{{dateformate(td.taskActualEnd)}}</td>
                        <td>{{dateformate(td.taskPlanEndDate)}}</td>
                      </tr>                    
                      <tr ng-repeat="field in td.wf_FieldMasters" ng-init="currentIndex=$index; ">
                 <td ng-if="field.fieldMasterId == 1">
                  <div class="form-group" style="display: inline-block;width: 100%">
                  
                  <div ng-repeat="xx in field.validationList">
                  <div ng-if="xx.id === 1 ">
                  <label style="width: 20%;">{{field.label}}</label>
                  <input type="text" class="form-control flat-control-inner" ng-model="field.fieldValue"  ng-disabled="edit" style="display: inline-block;width: 25%;" ng-required="{{field.required}}" maxLength="{{xx.validationValue}}" allow2>
                  </div>
                  <div ng-if="xx.id === 2">
                  <label style="width: 20%;">{{field.label}}</label>
                  <input type="text" class="form-control flat-control-inner" ng-model="field.fieldValue"  ng-disabled="edit" style="display: inline-block;width: 50%;margin-left: 10px;" ng-required="{{field.required}}" maxLength="{{xx.validationValue}}" allow1>
                  </div>
                  <div ng-if="xx.id === 3 ">
                  <label style="width: 20%;">{{field.label}}</label>
                  <input type="password" class="form-control flat-control-inner" ng-model="field.fieldValue"  ng-disabled="edit" style="display: inline-block;width: 50%;margin-left: 10px;" ng-required="{{field.required}}" maxLength="{{xx.validationValue}}" >
                  </div>
                  <div ng-if="xx.id === 4 ">
                  <label style="width: 20%;">{{field.label}}</label>
                  <input type="email" ng-pattern = '/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i' class="form-control flat-control-inner" ng-model="field.fieldValue"  ng-disabled="edit" style="display: inline-block;width: 25%;" ng-required="{{field.required}}" maxLength="{{xx.validationValue}}" >
                  </div>
                  <div ng-if="xx.id === 16">
                  <label style="width: 20%;">{{field.label}}</label>
                  <input type="text" class="form-control flat-control-inner" ng-model="field.fieldValue"  ng-disabled="edit" style="display: inline-block;width: 50%;margin-left: 10px;" ng-required="{{field.required}}" maxLength="{{xx.validationValue}}" >
                  </div>
                  </div>
                  <span style="color:red;">{{errorMsg}}</span>                  
                  </div>
                 </td>
                 
                 <td ng-if="field.fieldMasterId ==2 ">
                 
                  <div class="form-group" style="display: inline-block;width: 100%">
                  <label class="ticket-label" style="width: 20%;">{{field.label}}</label>
                  <textarea class="form-control flat-control-inner" id="{{field.fieldMasterId}}{{$index}}" ng-model="field.fieldValue" ng-blur="validateFieldValue(field.fieldValue,$index)"   ng-disabled="edit" style="display: inline-block;width: 50%;" ng-required="{{field.required}}" maxLength="{{field.validationList[0].validationValue}}"></textarea>                 
                  <span id="textArea-{{field.fieldMasterId}}{{$index}}"></span>
                </div>
                 </td>
                 
                 <td ng-if="field.fieldMasterId ==8 "> 
                 <div class="form-group" style="display: inline-block;width: 100%">
                 <div ng-repeat="xp in field.validationList ">
                  <label style="width: 20%;position: relative;bottom: 15px;">{{field.label}}</label>
                  <div class="input-group" style="display: inline-block;margin-top: 15px;">
                  <input type="text" id="{{xp.validationValue}}" ng-model="field.fieldValue"  onclick="getDatepicker(this);"   ng-disabled="edit" class="form-control flat-control-inner dateonly" style="display: inline-block;width: 83%;">
                  <span class="input-group-addon" onclick="getDatepicker(this);" style="padding: 11px 12px;">
                	 <span class="glyphicon glyphicon-calendar"></span>
              	  </span>
              	  </div>
                </div>
                </div>
               
                 <td ng-if="field.fieldMasterId ==5">
                 <div class="form-group" style="display: inline-block;width: 100%">
                  <label style="width: 20%;">{{field.label}}</label>
                  
                  <select class="form-control flat-control-inner with-caret" ng-model="field.fieldValue"  ng-disabled="edit" style="display: inline-block;width: 25%;">
                    <option value="">--select--</option>
                    <option ng-repeat="x in field.wf_Options" value="{{x.optionLabel}}">{{x.optionLabel}}</option>
                  </select> 
                </div>
                 </td>
                
                 <td ng-if="field.fieldMasterId ==4">
                 <div class="form-group" style="display: inline-block;width: 100%" >
                  <label style="">{{field.label}}</label>
                      <div class="prefill" style="" >
                        <div class="chckbx-cntnr" ng-repeat="x1 in field.wf_Options " style="margin: 0px 0 5px;display: inline-block;width: 50%;">
                        <input type='checkbox' value="{{x}}" check-list='checked_fruits'>
                         <input type="checkbox" id="{{x1.optionId}}" class="flashadmin" name="check-group-{{currentIndex}}"  ng-checked="{{x1.optionValue}}" ng-model="x1.optionValue"  check-list="x1.optionValue" class="" ng-disabled="edit" > 
                          <label class="cstmchk_lbladmin" for="{{x1.optionId}}" style="left: 0 !important;">
                          <p class="expense-trvl">{{x1.optionLabel}}</p> 
                        </label> 
                        </div>
                        
                      </div>
                  </div>
                 </td>
                 <td ng-if="field.fieldMasterId ==3">
                 <div class="form-group" style="display:block;width: 100%">
                     <label class="ticket-label" style="width: 20%;">{{field.label}}</label>
                      <div class="prefill" style="display: inline-block;width: 69%;">
                        
                        <div class="radio-cntnr new-chc" style="float: left;width: 21%;margin-right: 0px;" ng-repeat="x2 in field.wf_Options ">
                        <input type="radio" id="{{x2.optionId}}" name="radio-group{{currentIndex}}" ng-model="field.fieldValue"  value="{{x2.optionLabel}}" ng-disabled="edit"> <label for="{{x2.optionId}}"></label>
                        <p class="radio-sub-head" style="margin-left: 34px;">{{x2.optionLabel}}</p>
                        </div>
                      </div>

                  </div>
                 </td>                
                 
                 <td ng-if="field.fieldMasterId ==6">
                 <div class="form-group" style="display: inline-block;width: 100%">
                  <label style="width: 20%;">{{field.label}}</label>
                  
                  <div class="input-group">
                                <input type="text" id="docfilepath" class="form-control flat-control-inner ng-pristine ng-valid ng-empty ng-touched" ng-disabled="edit" readonly="" ng-model="selectedfile">
                                 <span class="input-group-btn" style="width: 0px;">
                                    <span class="btn btn-primary btn-file" style="padding: 12px;"> Browse</span>
                                </span> 
                 </div>
                </div>
                 </td>
                 </tr>
                
              <tr>
                <td>Task2</td>
                <td>
                   <p>Department : Office</p>
                   <a class="more-field" data-toggle="modal" data-target="#reassign" style="cursor:pointer;">Reassign</a>
                </td>
                <td><label class="inprogress-label">In Progress</label></td>
                <td>01-08-2018</td>
                <td>01-08-2018</td>
                <td>01-08-2018</td>
              </tr>
                
                
              <tr>
                <td class="td-bdr-none">
                    <div>
                            <p style="display: inline-block">Email Id</p>
                            <input type="text" class="form-control flat-control-inner">
                    
                    </div>
                    
                    <div>
                            <p style="display: inline-block">Address</p>
                            <input type="text" class="form-control flat-control-inner">
                    
                    </div>
                </td>
                  <td class="td-bdr-none">
                  </td>
                  <td class="td-bdr-none">
                  </td>
                  <td class="td-bdr-none">
                  </td>
                  <td class="td-bdr-none">
                  </td>
                  <td class="td-bdr-none">
                  </td>
            </tr>
            <tr>
                <td>Task3</td>
                <td>
                    <p>Department : Galley</p>
                    <a>Reassign</a>
                
                </td>
                <td><label class="inprogress-label">In Progress</label></td>
                <td>01-08-2018</td>
                <td>01-08-2018</td>
                <td>01-08-2018</td>
              </tr>
              <tr class="disabled-row">
                <td class="td-bdr-none">
                    <div>
                            <p style="display: inline-block">Salary</p>
                           <input type="text" class="form-control flat-control-inner" disabled="disabled">
                    
                    </div>
                </td>
                  <td class="td-bdr-none">
                  </td>
                  <td class="td-bdr-none">
                  </td>
                  <td class="td-bdr-none">
                  </td>
                  <td class="td-bdr-none">
                  </td>
                  <td class="td-bdr-none">
                  </td>
             </tr>
           
              </tbody>
          </table>
          <div class="btn-cntnr" style="">
                  <button class="btn btn-default btn-bluer" id="cancel-req-btn">Save</button>
                  <a href="">Submit</a>
                </div>
      </div>
      </div>
  </div>
  </div>
  <script type="text/javascript">
 			$(function () {
                $('.dateonly').datetimepicker({
                   format: 'DD-MM-YYYY',
                   minDate:new Date(),
                });
            });

</script> -->
<style>
.collaps-div{
display:none;}
</style>

<script type="text/javascript"> 
/* function collapsedData(){
	if ($(this).next('.collaps-div').hasClass('active')){
          $('.collaps-div').removeClass('active');
        }
        else{
        $('.collaps-div').removeClass('active');
        $(this).next('.collaps-div').addClass('active');       
        }
} */
    $(document).ready(function (){
    	/* function collapsedData(){
    		if ($(this).next('.collaps-div').hasClass('active')){
    	          $('.collaps-div').removeClass('active');
    	        }
    	        else{
    	        $('.collaps-div').removeClass('active');
    	        $(this).next('.collaps-div').addClass('active');       
    	        }
    	} */
      $('.collaps-div').hide();
      $('.collaps-click').click(function(){
        if ($(this).next('.collaps-div').hasClass('active')){
          $('.collaps-div').removeClass('active');
        }
        else{
        $('.collaps-div').removeClass('active');
        $(this).next('.collaps-div').addClass('active');       
        }
      });

    })
    $(document).ready(function (){
      $('.collaps-div-head').hide();
      $('.collaps-click-head').click(function(){
        $('.collaps-div-head').toggleClass('active'); 
        $('.collaps-click-head').toggleClass('active');        
    
      });

    })
  </script>
  <script type="text/javascript">
 			$(function () {
                $('.dateonly').datetimepicker({
                   format: 'DD-MM-YYYY',
                   minDate:new Date(),
                });
            });

 				
</script>


<!-- ------------------------------------------------------------------------------------------------------------------------- -->

<!-- <div id="Tasks-detail-menu" class="tab-pane fade in">
    <div class="section-heading">
        <h4>Tickets Listing</h4>
        <p>Create new requisition for recruitment from customers.</p>
      </div>
     <div class="section-content" style="padding: 0 14px 0 14px;">
      <div class="upper-actions">
        <div class="col-md-5">
        </div>
          <div class="col-md-7 col-lg-7 pull-right">
            <div class="row">
            <div class="srch-uppr" style="float: right; margin-top: 27px;">
              <div class="form-group" style="display: inline-block;">
              <button class="btn btn-default btn-bluer" data-target="#assignnment-details" data-toggle="modal" type="button" style="margin-right:0px !important;padding: 7px 10px;">Assign </button>
              </div>
            <div class="button-group" style="text-align: right;display: inline-block;padding-left: 10px;">
               <button class="btn btn-default btn-create" id="create-report-btn" style="background:#1fa67a;" ng-click="generateExcel()"><i class="fa fa-file-excel-o"></i></button>
            </div>
          <div class="search-cntnr" style="float: initial;width: 54%;">
            <div class="form-group search-box">
              <input type="text" name="" class="form-control flat-control-search">
              <i class="icon-search"></i>
            </div>
          </div>
          <div class="button-group" style="padding-left: 10px;">
            <button class="btn btn-default btn-create" id="create-req-btn" style="margin-right: 0px;"><i class="fa fa-check-square-o"></i></button>
          </div>
        </div>
          </div>
        </div>
      </div>
      <div class="table-cntnr">
		<div class="prefield-area">
        <table class="table table-striped table-bordered" style="margin-bottom: 0px;">
          <caption class="det-caption">
            <p>Workflow1</p>
            <p>TIcket No. R1</p>
          </caption>
          <tr ng-repeat="pf in ticketDetails.preFilledFields" ng-init="currentIndex=$index;">
                
                 <td ng-if="pf.fieldMasterId == 1">
                  <div class="form-group" style="display: inline-block;width: 100%">
                  
                  <div ng-repeat="xx in pf.validationList">
                  <div ng-if="xx.id === 1 ">
                  <label style="width: 20%;">{{pf.label}}</label>
                  <input type="text" class="form-control flat-control-inner" ng-model="pf.fieldValue"  ng-disabled="!ticketDetails.prefilledFieldFlag" style="display: inline-block;width: 25%;" ng-required="{{pf.required}}" maxLength="{{xx.validationValue}}" allow2>
                  </div>
                  <div ng-if="xx.id === 2">
                  <label style="width: 20%;">{{pf.label}}</label>
                  <input type="text" class="form-control flat-control-inner" ng-model="pf.fieldValue"  ng-disabled="!ticketDetails.prefilledFieldFlag" style="display: inline-block;width: 50%;margin-left: 10px;" ng-required="{{pf.required}}" maxLength="{{xx.validationValue}}" allow1>
                  </div>
                  <div ng-if="xx.id === 3 ">
                  <label style="width: 20%;">{{pf.label}}</label>
                  <input type="password" class="form-control flat-control-inner" ng-model="pf.fieldValue"  ng-disabled="!ticketDetails.prefilledFieldFlag" style="display: inline-block;width: 50%;margin-left: 10px;" ng-required="{{pf.required}}" maxLength="{{xx.validationValue}}" >
                  </div>
                  <div ng-if="xx.id === 4 ">
                  <label style="width: 20%;">{{pf.label}}</label>
                  <input type="email" ng-pattern = '/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i' class="form-control flat-control-inner" ng-model="pf.fieldValue"  ng-disabled="!ticketDetails.prefilledFieldFlag" style="display: inline-block;width: 25%;" ng-required="{{pf.required}}" maxLength="{{xx.validationValue}}" >
                  </div>
                  <div ng-if="xx.id === 16">
                  <label style="width: 20%;">{{pf.label}}</label>
                  <input type="text" class="form-control flat-control-inner" ng-model="pf.fieldValue"  ng-disabled="!ticketDetails.prefilledFieldFlag" style="display: inline-block;width: 50%;margin-left: 10px;" ng-required="{{pf.required}}" maxLength="{{xx.validationValue}}" >
                  </div>
                  </div>
                  <span style="color:red;">{{errorMsg}}</span>                  
                  </div>
                 </td>
                 
                 <td ng-if="pf.fieldMasterId ==2 ">
                 
                  <div class="form-group" style="display: inline-block;width: 100%">
                  <label class="ticket-label" style="width: 20%;">{{pf.label}}</label>
                  <textarea class="form-control flat-control-inner" id="{{pf.fieldMasterId}}{{$index}}" ng-model="pf.fieldValue" ng-blur="validateFieldValue(pf.fieldValue,$index)"   ng-disabled="!ticketDetails.prefilledFieldFlag" style="display: inline-block;width: 50%;" ng-required="{{pf.required}}" maxLength="{{pf.validationList[0].validationValue}}"></textarea>                  
                  <span id="textArea-{{pf.fieldMasterId}}{{$index}}"></span>
                </div>
                 </td>
                 
                 <td ng-if="pf.fieldMasterId ==8 "> 
                 <div class="form-group" style="display: inline-block;width: 100%">
                 <div ng-repeat="xp in pf.validationList ">
                  <label style="width: 20%;position: relative;bottom: 15px;">{{pf.label}}</label>
                  <div class="input-group" style="display: inline-block;margin-top: 15px;">
                  <input type="text" id="{{xp.validationValue}}" ng-model="pf.fieldValue"  onclick="getDatepicker(this);"  ng-disabled="!ticketDetails.prefilledFieldFlag" class="form-control flat-control-inner dateonly" style="display: inline-block;width: 83%;">
                  <span class="input-group-addon" onclick="getDatepicker(this);" style="padding: 11px 12px;">
                	 <span class="glyphicon glyphicon-calendar"></span>
              	  </span>
              	  </div>
                </div>
                </div>
                
                 <td ng-if="pf.fieldMasterId ==5">
                 <div class="form-group" style="display: inline-block;width: 100%">
                  <label style="width: 20%;">{{pf.label}}</label>
                  
                  <select class="form-control flat-control-inner with-caret" ng-model="pf.fieldValue"  ng-disabled="!ticketDetails.prefilledFieldFlag" style="display: inline-block;width: 25%;">
                    <option value="">--select--</option>
                    <option ng-repeat="x in pf.wf_Options" value="{{x.optionLabel}}">{{x.optionLabel}}</option>
                  </select> 
                </div>
                 </td>
                
                 <td ng-if="pf.fieldMasterId ==4">
                 <div class="form-group" style="display: inline-block;width: 100%" >
                  <label style="">{{pf.label}}</label>
                      <div class="prefill" style="" >
                        <div class="chckbx-cntnr" ng-repeat="x1 in pf.wf_Options " style="margin: 0px 0 5px;display: inline-block;width: 50%;">
                        <input type='checkbox' value="{{x}}" check-list='checked_fruits'>
                         <input type="checkbox" id="{{x1.optionId}}" class="flashadmin" name="check-group-{{currentIndex}}"  ng-checked="{{x1.optionValue}}" ng-model="x1.optionValue"  check-list="x1.optionValue" class="" ng-disabled="!ticketDetails.prefilledFieldFlag" > 
                          <label class="cstmchk_lbladmin" for="{{x1.optionId}}" style="left: 0 !important;">
                          <p class="expense-trvl">{{x1.optionLabel}}</p> 
                        </label> 
                        </div>                       
                      </div>
                  </div>
                 </td>
                 <td ng-if="pf.fieldMasterId ==3">
                 <div class="form-group" style="display:block;width: 100%">
                     <label class="ticket-label" style="width: 20%;">{{pf.label}}</label>
                      <div class="prefill" style="display: inline-block;width: 69%;">                        
                        <div class="radio-cntnr new-chc" style="float: left;width: 21%;margin-right: 0px;" ng-repeat="x2 in pf.wf_Options ">
                        <input type="radio" id="{{x2.optionId}}" name="radio-group{{currentIndex}}" ng-model="pf.fieldValue"  value="{{x2.optionLabel}}" ng-disabled="!ticketDetails.prefilledFieldFlag"> <label for="{{x2.optionId}}"></label>
                        <p class="radio-sub-head" style="margin-left: 34px;">{{x2.optionLabel}}</p>
                        </div>
                      </div>

                  </div>
                 </td>                
                 
                 <td ng-if="pf.fieldMasterId ==6">
                 <div class="form-group" style="display: inline-block;width: 100%">
                  <label style="width: 20%;">{{pf.label}}</label>
                  
                  <div class="input-group">
                                <input type="text" id="docfilepath" class="form-control flat-control-inner ng-pristine ng-valid ng-empty ng-touched" ng-disabled="!ticketDetails.prefilledFieldFlag" readonly="" ng-model="selectedfile">
                                 <span class="input-group-btn" style="width: 0px;">
                                    <span class="btn btn-primary btn-file" style="padding: 12px;"> Browse</span>
                                </span> 
                 </div>
                </div>
                 </td>
                 </tr>
                 
        </table>
        <div class="btn-cntnr" style="float:right;vertical-align:middle;">
                  <button class="btn btn-default btn-bluer" id="cancel-req-btn">Save</button>
                  <a href="">Submit</a>
                </div>
        </div>
        <div class="fill-taks">
          <table class="table table-striped table-bordered">
            <thead>
              <tr>
                <th style="min-width: 185px;"></th>
                <th>Assigned To </th>
                <th>Status </th>
                <th>Start Date </th>
                <th>End Date </th>
                <th>Estimated Date </th>
              </tr>
            </thead>
            <tbody ng-repeat="td in ticketDetails.ticketTasks" ng-if="td.restrictedFlag">           
                <tr>                 
                        <td>{{td.name}}</td>
                        <td>
                            <p>Department : Office</p>
                        </td>
                        <td><label class="completed-label">{{td.taskStatus}}</label></td>
                        <td>{{dateformate(td.taskStartDate)}}</td>
                        <td>{{dateformate(td.taskActualEnd)}}</td>
                        <td>{{dateformate(td.taskPlanEndDate)}}</td>
                      </tr>                    
                      <tr ng-repeat="field in td.wf_FieldMasters" ng-init="currentIndex=$index; ">
                 <td ng-if="field.fieldMasterId == 1">
                  <div class="form-group" style="display: inline-block;width: 100%">
                  
                  <div ng-repeat="xx in field.validationList">
                  <div ng-if="xx.id === 1 ">
                  <label style="width: 20%;">{{field.label}}</label>
                  <input type="text" class="form-control flat-control-inner" ng-model="field.fieldValue"  ng-disabled="field.prefilledFlag" style="display: inline-block;width: 25%;" ng-required="{{field.required}}" maxLength="{{xx.validationValue}}" allow2>
                  </div>
                  <div ng-if="xx.id === 2">
                  <label style="width: 20%;">{{field.label}}</label>
                  <input type="text" class="form-control flat-control-inner" ng-model="field.fieldValue"  ng-disabled="field.prefilledFlag" style="display: inline-block;width: 50%;margin-left: 10px;" ng-required="{{field.required}}" maxLength="{{xx.validationValue}}" allow1>
                  </div>
                  <div ng-if="xx.id === 3 ">
                  <label style="width: 20%;">{{field.label}}</label>
                  <input type="password" class="form-control flat-control-inner" ng-model="field.fieldValue"  ng-disabled="field.prefilledFlag" style="display: inline-block;width: 50%;margin-left: 10px;" ng-required="{{field.required}}" maxLength="{{xx.validationValue}}" >
                  </div>
                  <div ng-if="xx.id === 4 ">
                  <label style="width: 20%;">{{field.label}}</label>
                  <input type="email" ng-pattern = '/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i' class="form-control flat-control-inner" ng-model="field.fieldValue"  ng-disabled="field.prefilledFlag" style="display: inline-block;width: 25%;" ng-required="{{field.required}}" maxLength="{{xx.validationValue}}" >
                  </div>
                  <div ng-if="xx.id === 16">
                  <label style="width: 20%;">{{field.label}}</label>
                  <input type="text" class="form-control flat-control-inner" ng-model="field.fieldValue"  ng-disabled="field.prefilledFlag" style="display: inline-block;width: 50%;margin-left: 10px;" ng-required="{{field.required}}" maxLength="{{xx.validationValue}}" >
                  </div>
                  </div>
                  <span style="color:red;">{{errorMsg}}</span>                  
                  </div>
                 </td>
                 
                 <td ng-if="field.fieldMasterId ==2 ">
                 
                  <div class="form-group" style="display: inline-block;width: 100%">
                  <label class="ticket-label" style="width: 20%;">{{field.label}}</label>
                  <textarea class="form-control flat-control-inner" id="{{field.fieldMasterId}}{{$index}}" ng-model="field.fieldValue" ng-blur="validateFieldValue(field.fieldValue,$index)"   ng-disabled="field.prefilledFlag" style="display: inline-block;width: 50%;" ng-required="{{field.required}}" maxLength="{{field.validationList[0].validationValue}}"></textarea>                 
                  <span id="textArea-{{field.fieldMasterId}}{{$index}}"></span>
                </div>
                 </td>
                 
                 <td ng-if="field.fieldMasterId ==8 "> 
                 <div class="form-group" style="display: inline-block;width: 100%">
                 <div ng-repeat="xp in field.validationList ">
                  <label style="width: 20%;position: relative;bottom: 15px;">{{field.label}}</label>
                  <div class="input-group" style="display: inline-block;margin-top: 15px;">
                  <input type="text" id="{{xp.validationValue}}" ng-model="field.fieldValue"  onclick="getDatepicker(this);"   ng-disabled="field.prefilledFlag" class="form-control flat-control-inner dateonly" style="display: inline-block;width: 83%;">
                  <span class="input-group-addon" onclick="getDatepicker(this);" style="padding: 11px 12px;">
                	 <span class="glyphicon glyphicon-calendar"></span>
              	  </span>
              	  </div>
                </div>
                </div>
               
                 <td ng-if="field.fieldMasterId ==5">
                 <div class="form-group" style="display: inline-block;width: 100%">
                  <label style="width: 20%;">{{field.label}}</label>
                  
                  <select class="form-control flat-control-inner with-caret" ng-model="field.fieldValue"  ng-disabled="field.prefilledFlag" style="display: inline-block;width: 25%;">
                    <option value="">--select--</option>
                    <option ng-repeat="x in field.wf_Options" value="{{x.optionLabel}}">{{x.optionLabel}}</option>
                  </select> 
                </div>
                 </td>
                
                 <td ng-if="field.fieldMasterId ==4">
                 <div class="form-group" style="display: inline-block;width: 100%" >
                  <label style="">{{field.label}}</label>
                      <div class="prefill" style="" >
                        <div class="chckbx-cntnr" ng-repeat="x1 in field.wf_Options " style="margin: 0px 0 5px;display: inline-block;width: 50%;">
                        <input type='checkbox' value="{{x}}" check-list='checked_fruits'>
                         <input type="checkbox" id="{{x1.optionId}}" class="flashadmin" name="check-group-{{currentIndex}}"  ng-checked="{{x1.optionValue}}" ng-model="x1.optionValue"  check-list="x1.optionValue" class="" ng-disabled="field.prefilledFlag" > 
                          <label class="cstmchk_lbladmin" for="{{x1.optionId}}" style="left: 0 !important;">
                          <p class="expense-trvl">{{x1.optionLabel}}</p> 
                        </label> 
                        </div>
                        
                      </div>
                  </div>
                 </td>
                 <td ng-if="field.fieldMasterId ==3">
                 <div class="form-group" style="display:block;width: 100%">
                     <label class="ticket-label" style="width: 20%;">{{field.label}}</label>
                      <div class="prefill" style="display: inline-block;width: 69%;">
                        
                        <div class="radio-cntnr new-chc" style="float: left;width: 21%;margin-right: 0px;" ng-repeat="x2 in field.wf_Options ">
                        <input type="radio" id="{{x2.optionId}}" name="radio-group{{currentIndex}}" ng-model="field.fieldValue"  value="{{x2.optionLabel}}" ng-disabled="field.prefilledFlag"> <label for="{{x2.optionId}}"></label>
                        <p class="radio-sub-head" style="margin-left: 34px;">{{x2.optionLabel}}</p>
                        </div>
                      </div>

                  </div>
                 </td>                
                 
                 <td ng-if="field.fieldMasterId ==6">
                 <div class="form-group" style="display: inline-block;width: 100%">
                  <label style="width: 20%;">{{field.label}}</label>
                  
                  <div class="input-group">
                                <input type="text" id="docfilepath" class="form-control flat-control-inner ng-pristine ng-valid ng-empty ng-touched" ng-disabled="field.prefilledFlag" readonly="" ng-model="selectedfile">
                                 <span class="input-group-btn" style="width: 0px;">
                                    <span class="btn btn-primary btn-file" style="padding: 12px;"> Browse</span>
                                </span> 
                 </div>
                </div>
                 </td>
                 </tr>
                
              <tr>
                <td>Task2</td>
                <td>
                   <p>Department : Office</p>
                   <a class="more-field" data-toggle="modal" data-target="#reassign" style="cursor:pointer;">Reassign</a>
                </td>
                <td><label class="inprogress-label">In Progress</label></td>
                <td>01-08-2018</td>
                <td>01-08-2018</td>
                <td>01-08-2018</td>
              </tr>
                
                
              <tr>
                <td class="td-bdr-none">
                    <div>
                            <p style="display: inline-block">Email Id</p>
                            <input type="text" class="form-control flat-control-inner">
                    
                    </div>
                    
                    <div>
                            <p style="display: inline-block">Address</p>
                            <input type="text" class="form-control flat-control-inner">
                    
                    </div>
                </td>
                  <td class="td-bdr-none">
                  </td>
                  <td class="td-bdr-none">
                  </td>
                  <td class="td-bdr-none">
                  </td>
                  <td class="td-bdr-none">
                  </td>
                  <td class="td-bdr-none">
                  </td>
            </tr>
            <tr>
                <td>Task3</td>
                <td>
                    <p>Department : Galley</p>
                    <a>Reassign</a>
                
                </td>
                <td><label class="inprogress-label">In Progress</label></td>
                <td>01-08-2018</td>
                <td>01-08-2018</td>
                <td>01-08-2018</td>
              </tr>
              <tr class="disabled-row">
                <td class="td-bdr-none">
                    <div>
                            <p style="display: inline-block">Salary</p>
                           <input type="text" class="form-control flat-control-inner" disabled="disabled">
                    
                    </div>
                </td>
                  <td class="td-bdr-none">
                  </td>
                  <td class="td-bdr-none">
                  </td>
                  <td class="td-bdr-none">
                  </td>
                  <td class="td-bdr-none">
                  </td>
                  <td class="td-bdr-none">
                  </td>
             </tr>
           
              </tbody>
          </table>
          <div class="btn-cntnr" style="">
                  <button class="btn btn-default btn-bluer" id="cancel-req-btn">Save</button>
                  <a href="">Submit</a>
                </div>
      </div>
      </div>
  </div>
  
  <script type="text/javascript">
 			$(function () {
                $('.dateonly').datetimepicker({
                   format: 'DD-MM-YYYY',
                   minDate:new Date(),
                });
            });

</script> -->