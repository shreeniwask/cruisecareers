<style>
.tablebtns{
	display: inline-flex;
}

.tablebtns .actn{
	margin-right: 10px;
}

/****missing indos number css start here****/
 .missing_indos_list{
	height:330px;
	overflow-x: auto;
}
.missing_indos_list > table{
	margin-bottom:0;
}
.
.miss_indos_btn{
    background-color: #00aeef;
    color: #fff;
    margin:0;
}
.miss_indos_btn:hover, .miss_indos_btn:focus, .miss_indos_btn:active{
    box-shadow: 0px 2px 5.76px 0.24px rgb(0 0 0 / 24%);
    background-color: #009ad4 !important;
    color: #fff !important;
} 
</style>
<div id="candidates" class="tab-pane fade in admin-page">
      <div class="section-heading">
        <h4>List of Employees</h4>
        <!-- <p>List of candidates who have applied for jobs.</p>    -->     
      </div> 
      <div class="section-content">
      <div class="upper-actions">
   		<div class="row">
       <div class="col-md-6 tablebtns">
          <div class="button-group">
            <!-- <button class="btn btn-default btn-edit"><i class="icon-edit-2"></i></button> -->
            <button class="btn btn-default btn-create icon-navigation" id="create-req-btn" ng-click="checkUserformodal()" style="padding: 0px!important;"></button>
            <!-- <button class="btn btn-default btn-delete"><i class="icon-x-circle"></i></button> -->
          </div>
          <div class="button-group" style="text-align: right;display: block;">
                    <button class="btn btn-default btn-create" id="create-job-btn" style="background:#1fa67a;" ng-click="generateExcel()"><i class="fa fa-file-excel-o"></i></button>
                    <!-- <button class="btn btn-default btn-delete" ng-click="generatePDF()"><i class="fa fa-file-pdf-o"></i></button> -->
                </div>  
                
             <div class="form-group">
	            <button class="btn btn-default btn-assign miss_indos_btn" ng-click="fetchAssessmentMaster(0,1000,null,null,null,0,0,0,0);checkUserforAssessmentModal()" type="button" style="margin-right:0px !important;padding: 7px 10px;">Assign Assessment</button>
	            </div>
                
                 <!--<div class="form-group">
	             <button class="btn btn-default btn-assign miss_indos_btn" ng-click="fetchAssessmentMaster(0,1000,null,null,null,0,0,0,0);checkUserforAssessmentModal()" type="button" style="margin-right:0px !important;padding: 7px 10px;">Assign Assessment</button>
	            </div>-->
	           &nbsp;&nbsp;&nbsp;&nbsp;
	            <div class="form-group">
	            	<button data-target="#missing_indos_number_modal" data-toggle="modal" class="btn btn-default btn-assign miss_indos_btn" type="button" style="margin-right:0px !important;padding: 7px 10px;" ng-click="fetchMissingIndosNumber();">Missing INDoS Numbers</button>
	            </div> 
       </div>
        
        <!-- search-cntnr -->
          <div class="col-md-6 tablebtns">  
     		<div class="form-group actn">
              <select class="form-control flat-control-search mar-bottom-zero" id="openinterview" ng-change="openModalForInterview()" ng-model="selectedEvent" ng-options="cl.schedulerName for cl in schedulernameList">
                <option value="">--Select Actions--</option>           
              </select>
            </div>
            <div class="form-group search-box actn">
              <input type="text" name="" id="id_of_textbox" class="form-control flat-control-search mar-bottom-zero" ng-model="searchterm">
              <i class="icon-search" id="id_of_button" ng-click="fetchEmployeeList(0,10,null,null,searchterm);getEmployeeListcount(searchterm)"></i>
            </div>
            <div class="button-group actn">
          	<button class="btn-default btn-create icon-navigation1 dropdown-toggle" data-toggle="dropdown" id="create-req-btn"><i class="fa fa-check-square-o"></i></button>
           <!--  <a class="dropdown-toggle select-drop" data-toggle="dropdown"></a>
         	<span class="fa fa-filter"></span> -->
	      <ul class="dropdown-menu selection-column" style="overflow:auto;left: -73px;">
						 <li>
						  	<div class="chckbx-cntnr zeromargin">
						     <input type="checkbox" id="app1" name="check" class="flashadmin" ng-click="selectAllColoumns(colcheck);savesettings()" ng-model="colcheck">
						     <label class="cstmchk_lbladmin"  for="app1"></label><label for="app1" class="table-label">Select All</label> 
						   </div>
						  </li>
						  <li ng-repeat="c in columnlist">
						  <div class="chckbx-cntnr zeromargin" ng-if="c.name=='Emp. No.' || c.name=='Name'">
						     <input type="checkbox" id="column{{$index}}" name="check" ng-model="c.isActive" class="flashadmin" ng-click="savesettings()" disabled>
						     <label class="cstmchk_lbladmin"  for="column{{$index}}"></label><label for="column{{$index}}" class="table-label">{{c.name}}</label> 
						   </div>
						  	<div class="chckbx-cntnr zeromargin" ng-hide="c.name=='Emp. No.' || c.name=='Name'">
						     <input type="checkbox"  id="column{{$index}}" name="check" ng-model="c.isActive" class="flashadmin" ng-click="savesettings()">
						     <label class="cstmchk_lbladmin"  for="column{{$index}}"></label><label for="column{{$index}}" class="table-label">{{c.name}}</label> 
						   </div>
						  </li>
						</ul>
          </div>
          </div> 
          
	                 
          </div>
          <div class="clearfix"></div>
           Selected employee : <a href="" ng-click="selectedemployee()">{{Userdata.length}}</a>
          <div class="table-cntnr table-responsive">
          
          <table class="table table-striped red-table">
	<caption>Employees</caption>
            <thead>
              <tr>
                <th style="vertical-align: middle;">
                  <div class="chckbx-cntnr zeromargin">  
                      <input type="checkbox" id="rd" name="check" class="flashadmin" ng-model="all" ng-click="checkedall(all);checkedAllList(employeeList,all)">
                      <label class="cstmchk_lbladmin" for="rd"></label> 
                    </div>
                </th>
                <th style="vertical-align: middle;min-width: 95px;" ng-show="activeColumn('Emp. No.')">Emp. No.&nbsp;<i class="fa fa-sort" aria-hidden="true" ng-click="sortByColumn('employee_number',searchterm)"></i></th>
                <th style="vertical-align: middle; min-width: 145px;" ng-show="activeColumn('Name')">Name&nbsp;<i class="fa fa-sort" aria-hidden="true" ng-click="sortByColumn('user_name',searchterm)"></i></th>
               	<th style="vertical-align: middle; min-width: 132px;" ng-show="activeColumn('Date of Employment')">Date of Employment&nbsp;<i class="fa fa-sort" aria-hidden="true" ng-click="sortByColumn('date_of_employee',searchterm)"></i></th>
               
                <th style="min-width: 126px;" ng-show="activeColumn('Selected Brand')" ><div>Selected</div><div>Brand&nbsp;<i class="fa fa-sort" aria-hidden="true" ng-click="sortByColumn('selected_brand',searchterm)"></i></div></th>
               	<th style="min-width: 126px;" ng-show="activeColumn('Selected Department')" ><div>Selected</div><div>Department&nbsp;<i class="fa fa-sort" aria-hidden="true" ng-click="sortByColumn('selected_category',searchterm)"></i></div></th>                
                <th  style="min-width: 126px;"ng-show="activeColumn('Selected Position')" ><div>Selected</div><div>Position&nbsp;<i class="fa fa-sort" aria-hidden="true" ng-click="sortByColumn('selected_position',searchterm)"></i></div></th>
                
                <th style="min-width: 126px;" ng-show="activeColumn('Current Brand')" ><div>Current</div><div>Brand&nbsp;<i class="fa fa-sort" aria-hidden="true" ng-click="sortByColumn('current_brand',searchterm)"></i></div></th>
               	<th style="min-width: 126px;" ng-show="activeColumn('Current Department')" ><div>Current</div><div>Department&nbsp;<i class="fa fa-sort" aria-hidden="true" ng-click="sortByColumn('current_category',searchterm)"></i></div></th>                
                <th  style="min-width: 126px;"ng-show="activeColumn('Current Position')" ><div>Current</div><div>Position&nbsp;<i class="fa fa-sort" aria-hidden="true" ng-click="sortByColumn('current_position',searchterm)"></i></div></th>
                <th  style="min-width: 126px;"ng-show="activeColumn('Current Ship')" ><div>Current</div><div>Ship&nbsp;<i class="fa fa-sort" aria-hidden="true" ng-click="sortByColumn('current_ship',searchterm)"></i></div></th>
                
                <th style="vertical-align: middle;min-width: 100px;" ng-show="activeColumn('Location')" >Location&nbsp;<i class="fa fa-sort" aria-hidden="true"  ng-click="sortByColumn('current_location',searchterm)"></i></th>
                <th style="vertical-align: middle;min-width: 113px;" ng-show="activeColumn('Start Date')">Embark Date</th>      
                <th style="vertical-align: middle;min-width: 113px;" ng-show="activeColumn('End Date')">Disembark Date</th>        
                
           
              </tr>
            </thead>
             <tbody>
             <tr ng-repeat="j in employeeList">
				<td>
                      <div class="chckbx-cntnr zeromargin" >
                      <input type="checkbox" id="{{j.empl_number}}" name="check" class="flashadmin" ng-model="answers" ng-change="stateChanged(answers,j.user.id,j.id,j.name,j.status,j.user.roleId,j.empl_number);saveuserlist(j.user.id,answers,j.user.roleId,j.empl_number);addCheckedcandidateId(j.user.id)" ng-checked="all;checkIds(j.empl_number,j.user.id)">
                      <label class="cstmchk_lbladmin" for="{{j.empl_number}}"></label>                     
                      
                    </div>
                </td>
				<td ng-show="activeColumn('Emp. No.')">{{j.empl_number}} </td>
                <td ng-show="activeColumn('Name')"><a ng-click="openEmployeeDescription(j);fetchSelectJobDetailsOfEmployee(j.empl_number)"> {{j.user.name}}</a></td>
                <td ng-show="activeColumn('Date of Employment')">{{formatDate2(j.date_of_employment)}} </td>
                
                <td ng-show="activeColumn('Selected Brand')">{{j.selected_brands.brandName}} </td>
                <td ng-show="activeColumn('Selected Department')" >{{j.selected_category.categoryName}} </td>
                <td ng-show="activeColumn('Selected Position')">{{j.selected_position.positonname}} </td>
                
                <td ng-show="activeColumn('Current Brand')">{{j.current_brands.brandName}} </td>
                <td ng-show="activeColumn('Current Department')">{{j.current_category.categoryName}} </td>
                <td ng-show="activeColumn('Current Position')">{{j.current_position.positonname}} </td>
                <td ng-show="activeColumn('Current Ship')">{{j.current_ship.shipName}} </td>
                
                <td ng-show="activeColumn('Location')" >{{j.location}} </td>
                <td ng-show="activeColumn('Start Date')">{{dateformate55(j.start_date)}} </td>
                <td ng-show="activeColumn('End Date')">{{dateformate55(j.end_date)}} </td>
               
               
                
                <!-- <td class="text-center"><button class="btn btn-default btn-delete"><i  class="icon-briefcase"></i></button></td> -->
                
              </tr>
      
             </tbody>    
        </table>
          
        </div>
        <div class="text-right" style="margin: 12px 0;">
            
            <ul class="pagination" style="margin-top: 0;">
			<li><a ng-hide="start == 0" ng-click="previous()">&laquo;</a>
			<li ng-repeat="i in navButtons" ng-class="$parent.offset == i * $parent.limit && 'active'"><a class="" ng-click="current(i)">{{i+1}}</a></li>
			<li><a ng-hide="(((start+5)*10) + 10) >= count" ng-click="next()">&raquo;</a></li>
			</ul>
 
            </div>
        </div>
      </div>
      <!-- Modal Mapping ---------------------------------------------------------------------------------------->
<div id="user-detail-modal" class="modal fade" role="dialog">
  <div class="modal-dialog modal-lg" style="width: 80%;">

    <!-- Modal content-->
    <div class="modal-content flat-modal">
      <div class="modal-body flat-body" style="padding-bottom: 0;">
        <div class="row">
          <div class="col-md-5">
            <div class="user_details_pop">
              <div class="pop-pic inline-blck" style="background-image: url({{picpath}});"></div>
              <div class="pop-name inline-blck" >
                <h3>{{username}}</h3>
                <h4 class="designation">{{position}}</h4>
                <h4>{{location}}</h4>
                <h4>{{emp_num}}</h4>
              </div>
            </div>
          </div>
          <div class="col-md-5">
            <div class="row">
              <div class="col-md-5 text-center">
                <div class="chart profile-charts"><span>{{percent}}%</span></div>
                <div>Profile Completed</div>
              </div>
              
              <!-- <div class="col-md-5 text-center">
                <div class="chartnew profile-charts" data-percent="0"><span style="color: #ef1e25;" >{{ratingPercent}}%</span></div>
                <div>Rating</div>
              </div> -->
            </div>
            </div>
             
           <div class="col-md-2 text-right">
            <button type="button" class="btn bigblue-btn" id="" ng-click="download(cvpath)" ng-disabled="buttondisable(cvpath)"><i class="fa fa-file-text-o" aria-hidden="true"></i> Download CV </button>
          </div>
          
        </div>

        <div class="lower-tabs">
          <div class="row" style="display: flex;">
            <div class="col-md-3" style="border-right: 1px solid #e0e0e0;">
          <ul class="nav nav-pills nav-stacked">
  <li class="" id="list1"><a   data-toggle="tab" href="" ng-click="showFlag(1)">Professional Info</a></li>
  <li class="" id="list2"><a href="" ng-click="showFlag(2);appliedJobContactInfo(id)">Contact Info</a></li>
  <li class="" id="list3"><a href="" ng-click="showFlag(3);appliedJobEducationalInfo(id)">Educational Info</a></li>
  <li class="" id="list10"><a href="" ng-click="showFlag(10);currentPosting('current',id)">Postings</a></li>
  <li class="" id="list4"><a href="" ng-click="showFlag(4);appliedJobComplianceLog(id)">Compliance Log </a></li>
  <li class="" id="list5"><a href="" ng-click="showFlag(5);fetchAssignAssessment(id,roleId)">Assessment Log </a></li>
  <li class="" id="list6"><a href="" ng-click="showFlag(6)">Communication Log </a></li>
  <li class="" id="list7"><a href="" ng-click="showFlag(7);getUserActivityList(id)">Activity Log </a></li>
<!--   <li class="" id="list8"><a href="" ng-click="showFlag(8)">Decision Log </a></li>
 -->  <li class="" id="list8"><a href="" ng-click="showFlag(8)">Scheduler Log </a></li>
  <li class="" id="list9"><a href="" ng-click="showFlag(9);fetchToDoList(id)">To Do List</a></li>  
</ul>
        </div>
<div class="col-md-9">
<div class="tab-content">
  <div id="prof" class="tab-pane fade in active" ng-show="showflag == 1" >
  <div ng-if="profFlag == false"><p class="data-av">Professional info not Found!!!</p></div>
    <table class="table table-bordered" ng-if="profFlag == true">
    	<thead>
    		<tr>
    			<th>Position</th>
    			<th>Employer's Name</th>
    			<th>Rating</th>
    			<th>From Date</th>
    			<th>To Date</th>
    			<th>Download</th>
    		</tr>
    	</thead>
    	<tbody>
    		 <tr ng-repeat="x in userworklist">
    			<td>{{x.position}}</td>
    			<td>{{x.employerName}}</td> 
    			<td>{{x.rating}}</td>
    			<td>{{formatDate(x.fromDate) | date:'dd-MM-yyyy'}}</td> 
    			<td>{{formatDate(x.toDate) | date:'dd-MM-yyyy'}}</td> 
    			<td class="text-center"><button class="btn bigblue-btn new-btn-dwn" ng-click="download(x.certificatePath)" ng-if="x.certificatePath != null || x.certificatePath != undefined"><i class="fa fa-download" aria-hidden="true"></i></button></td>
    		</tr>
    	</tbody>
    </table>   
  </div>
  
  <div id="cntact" class="tab-pane fade in active" ng-show="showflag == 2">
  <div ng-if="contactFlag == false"><p class="data-av">Contact info not Found!!!</p></div>  
  <div ng-if="contactFlag == true" ng-repeat="x in contactInfo">  
    <ul type="none" class="detailed-ul"  >
      <li>
        <div class="row" >
          <div class="col-md-3">
            <h4>Flat/House No.:</h4>
            <p>{{x.houseNo}}</p>
          </div>
          <div class="col-md-4">
            <h4>Building/House:</h4>
            <p>{{x.houseName}}</p>
          </div>
          <div class="col-md-4">
            <h4>Society:</h4>
            <p>{{x.society}}</p>
          </div>
          
          </div>
          </li>
          <li>
           <div class="row" >
           <div class="col-md-3">
            <h4>PIN/ZIP Code:</h4>
            <p>{{x.pincode}}</p>
          </div>
           <div class="col-md-9">
            <h4>Street/Road:</h4>
            <p>{{x.street}}</p>
          </div>
          
        </div>
      </li> 
      <li>
        <div class="row">
          <div class="col-md-3">
            <h4>City:</h4>
            <p>{{x.city.cityName}}</p>
          </div>
          <div class="col-md-3">
            <h4>State:</h4>
            <p>{{x.state.stateName}}</p>
          </div>
          <div class="col-md-3">
            <h4>Country:</h4>
            <p>{{x.countryName}}</p>
          </div>
        </div>
      </li>
      <li>
	      <div class="row">
	        <div class="col-md-3">
	            <h4>Mobile Number:</h4>
	            <p>{{x.phoneNumber}}</p>
	          </div>
	         <div class="col-md-3">
	            <h4>Email:</h4>
	            <p>{{x.email}}</p>
	          </div>            
	        </div>
      </li>
    </ul> 
  </div> 
  </div>
  <div id="edu" class="tab-pane fade in active" ng-show="showflag == 3">
  <div ng-if="educationFlag == false"><p class="data-av">Education info not Found!!!</p></div> 
    <table ng-if="educationFlag == true" class="table table-bordered">
    <tr>
    	<th>Qualification</th>
    	<th>Year of Passing</th>
    	<th>Issuing Authority</th>
    	<th>Grade/Score/Percentage</th>
    </tr>
    <tr ng-repeat="x in educationalInfo">
	    <td>{{x.qualificationObj.qualificationName}}</td>
	    <td>{{x.yearOfPassing}}</td> 
	  
	    <td>{{x.board}}</td>
	    <td>{{x.gradeScore}}</td>
    </tr>
    </table>
    </div>    
  
  <div id="comp" class="tab-pane fade in active" ng-show="showflag == 4" >
  <div ng-if="complianceFlag == false"><p class="data-av">Compliances log not Found!!!</p></div> 
    <table ng-if="complianceFlag == true" class="table table-striped red-table">
            <caption>List of Compliances</caption>
            <thead>
              <tr>
                <th>Name</th>
                <th>Expiry Date</th>
                <th class="text-center">Download</th>
              </tr>
            </thead>
            <tbody ng-repeat="x in compliancelog" > 
              <tr>
                <td>{{x.compliance.complianceName}}</td>            
                
                <td>{{formatDate(x.expiryDate) |  date:'dd-MM-yyyy hh:mm a'}}</td>
                
                <td class="text-center" >
                
            <label ng-if="buttondisable(x.path) == true" class="btn bigblue-btn new-btn-dwn" ng-disabled="true"><i class="fa fa-download" aria-hidden="true"></i></label>
            <label ng-if="buttondisable(x.path) == false" class="btn bigblue-btn new-btn-dwn" ng-click="download(x.path)" ng-disabled="false"><i class="fa fa-download" aria-hidden="true"></i></label>
              
                </td>   
                            
              </tr>           
            </tbody>
          </table>
  </div>
  <div id="assess" class="tab-pane fade in active"  ng-show="showflag == 5">
  <div ng-if="AssignAssessmentList.length == 0"><p class="data-av">Assessments log not Found!!!</p></div>
  <div id="exTab2" ng-if="AssignAssessmentList.length != 0"> 
          <ul  class="nav nav-pills" style="display:inline-block;">
                <!-- <li id="activetab11" class="active" >
                  <a ng-click="AssessmentFlag(1)">Job Assessment</a>
                </li> -->
                <li id="activetab21" class="active" style="cursor: pointer;">
                	<a ng-click="AssessmentFlag(2)" >Assigned Assessment</a>
                </li>       
                <li id="activetab31">
                	<a>User Answers</a>
                </li>
              </ul>              
            
      <div ng-if="assessmentFlag==3" class="user-click"><a style="float: right;position: relative;top: -34px;" ng-click="AssessmentFlag(4);getAssessmentTestImages(assessmentobjectforuserclickpic)">View User Pictures.</a></div>   
            
            
            <div class="tab-content clearfix" style="padding: 20px 0px;">
            
  <div class="tab-pane active" id="" ng-show="assessmentFlag == 2">
  <div class="table-responsive" style="overflow-y: scroll;height: 400px">
              <table class="table table-striped red-table">
            <caption>List of Assigned Assessments</caption>
            <thead>
              <tr>             
                <th>Assessment</th>
                <th>Score</th>
                <th>Comment (if any)</th>
                <th>Assess by</th>                
                <th>Self Assessment</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody >
              <tr ng-repeat="x in AssignAssessmentList">                         
                <td ng-model="AssignAssessmentList[$index].name" ng-click="switchTab(x);setSaveButtonFlag(x)" ><a href="">{{x.assessmentName}}</a></td>              
              
             <td ng-if="x.statusId != 2 && x.statusId != 3">    
                  <div class="form-group" style="margin-bottom: 0">
                  <label ng-change="myFunc(x)" style="margin-bottom: 0" >{{AssignAssessmentList[$index].score}}/{{AssignAssessmentList[$index].questionCount}}</label>
                  </div>
               </td>  
                <td ng-if="x.statusId == 2 || x.statusId == 3">    
                  <div class="form-group" style="margin-bottom: 0">
                  <label    ng-change="myFunc(x)" style="margin-bottom: 0" ></label>
                  </div>
               </td>  
               
            <td ng-if="x.statusId == 2">
              	  <div class="form-group" style="margin-bottom: 0">
                  <input type="text" ng-model="AssignAssessmentList[$index].comment" ng-change="myFunc(x)" class="form-control flat-control-inner" style="margin-bottom: 0" disabled>                    
                  </div>
              </td>
              <td ng-if="x.statusId != 2">
              	  <div class="form-group" style="margin-bottom: 0">
                  <input type="text" ng-model="AssignAssessmentList[$index].comment" ng-change="myFunc(x)" class="form-control flat-control-inner" style="margin-bottom: 0">                    
                  </div>
              </td>
               
               <td ng-if="x.isAutoAssess != true">
                  <div class="form-group" style="margin-bottom: 0">
                  <input type="text" ng-if="AssignAssessmentList[$index].score != null || AssignAssessmentList[$index].comment != null" ng-model="AssignAssessmentList[$index].assessbyName" class="form-control flat-control-inner"  disabled style="margin-bottom: 0">
                  <input type="text" ng-if="AssignAssessmentList[$index].score == null && AssignAssessmentList[$index].comment == null" class="form-control flat-control-inner" disabled style="margin-bottom: 0">
                  </div>               
              </td>   <!-- ng-if="x.isAutoAssess != true || x.statusId ==2"   ng-if="x.isAutoAssess == true || x.statusId !=2"-->
            
            <td ng-if="x.isAutoAssess == true">
                  <div class="form-group" style="margin-bottom: 0">
                  <input type="text" ng-if="AssignAssessmentList[$index].score != null || AssignAssessmentList[$index].comment != null" value="Auto" class="form-control flat-control-inner"  disabled style="margin-bottom: 0">
                  <input type="text" ng-if="AssignAssessmentList[$index].score == null && AssignAssessmentList[$index].comment == null && x.statusId ==2" value="" class="form-control flat-control-inner" disabled style="margin-bottom: 0">
                  </div>               
              </td>                    
        
               <td ng-model="AssignAssessmentList[$index].isSelfAssessment"> 
                <span ng-if="x.isSelfAssessment == true" >Yes</span>    
                <span ng-if="x.isSelfAssessment == false" >No</span>        
               </td>
               
              <td ng-model="AssignAssessmentList[$index].statusName">
                <span ng-if="x.statusId == 2" class="label label-danger">{{x.statusName}}</span>    
                <span ng-if="x.statusId == 3" class="label label-info">{{x.statusName}}</span>
                <span ng-if="x.statusId == 1" class="label label-success">{{x.statusName}}</span>       
              </td> 
              </tr>                 
            </tbody>            
          </table>
          </div>
          
           <button ng-if="assignAssessmentSave" class="btn btn-default btn-bluer" ng-click="" style="margin-top: 20px;" disabled>Save</button> 
           <button ng-if="!assignAssessmentSave" class="btn btn-default btn-bluer" style="margin-top: 20px;" ng-click="saveAssignAssessment()" >Save</button> 
   </div> 
   
   
   
     <div class="tab-pane active" id="" ng-show="assessmentFlag == 3">    
       
       <div class="table-responsive">
       <form ng-submit="SaveScore()">
       <table class="table table-striped red-table">
            <caption>User Answer</caption>             
            <tbody >
              <tr ng-repeat="q in QuestionAnsList" ng-init="outerIndex12 = $index">                         
                
               <td>                  
                  {{q.questionText}} <label ng-if="q.questionMediaType == 1"><i class="fa fa-file-image-o"></i></label>
						                   <label ng-if="q.questionMediaType == 2"><i class="fa fa-file-audio-o" ></i></label>
						                   <label ng-if="q.questionMediaType == 3"><i class="fa fa-video-camera que-file"></i></label>
                    <ul class="single-ans">
                    
                    	<li ng-if="q.questionType==1 && q.isVoiceEnabled == false" ng-bind="q.shortAns"></li>  
                                    	                   	
                    	<div ng-if="q.questionType==1 && q.isVoiceEnabled == true" id="media{{$index}}"> 
                    		 <!-- <i  class="fa fa-file-audio-o que-file" ng-click="enabledVoice=true"></i>  -->
                    		<img src="resources/img/audio.png" class="audio-png"  ng-click="enabledVoice=true" alt="img_May23201814-21-41GMT" style="    margin: 10px 10px;
    display: block;">
               				<audio ng-if="enabledVoice"  width="568" id="audioMedia{{$index}}" height="240" controls controlsList="nodownload" style="margin: 10px 0px;"><source src="{{q.audioAns}}" type="audio/ogg" ></audio>
               			</div>										             
                 
                        <li data-ng-repeat="a in q.ans" ng-if="q.questionType==2"  ng-init="innerIndex55 = $index">
                      	<div class="radio-cntnr new-chc radio-quecheck-ans" >
                      	<input type="hidden"  ng-value="checkedUserAns(a.id,q.userAns)">
                      	<input type="radio" name="option_{{outerIndex12}}_{{innerIndex55}}"  data-ng-value="true" data-ng-model="setRedioFlag" id="option_{{outerIndex12}}_{{innerIndex55}}" disabled>
                  			<label for="option_{{outerIndex12}}_{{innerIndex55}}"></label>
                  		</div>
                  		<label style="display:block !important;margin-left: 28px;">{{a.answerText}}</label>
                  		</li>   
                  		
                  		 <li ng-repeat="a in q.ans" ng-if="q.questionType==3">
                          <div class="chckbx-cntnr que-check-box">
	                      <input type="checkbox" id="checkoption{{$index}}" name="check" ng-checked="checkedUserAns(a.id,q.userAns)" class="flashadmin ng-pristine ng-untouched ng-valid" disabled>
	                      <label class="cstmchk_lbladmin" for="checkoption{{$index}}"></label> 
                       	  </div>                       
                           <label class="cstmchk_lbl que-ans-check" for="checkoption{{$index}}">{{a.answerText}}</label> 
                        </li>
                        
                    </ul>
                  
               </td>  
               
               <td ng-if="q.questionType==1" style="vertical-align: top !important;">
               	 <div class="form-group" style="margin-bottom: 0">																						 
                  <input type="number" id="" class="form-control flat-control-inner" style="margin-bottom: 0;width: 69px !important;height: 36px;" min="0" max="1" step=".01" ng-model="q.shortAnsScore" required>
                  </div>                  
               </td>  
                            
               <td ng-if="q.questionType==2 || q.questionType==3" style="width: 80px;vertical-align: top !important;text-align:center;">
               	 <!-- Ans status 1=right 2=wrong -->  	
               	  <i ng-if="q.ansStatus == 2" class="fa fa-times" style="text-align: center;font-size: 22px;color: #e7505a;"></i>
               	  <i ng-if="q.ansStatus == 1" class="fa fa-check" style="text-align: center;font-size: 22px;color: #21b524;"></i>
               </td>    
                         
              </tr>                 
            </tbody>            
          </table>
          
           <button ng-if="AnsSaveFlag==true" type="submit" class="btn bigblue-btn">Save</button>
       </form>
     
       </div>
       
       
   
   </div>    
           </div>
           
           <div class="tab-pane active" id="" ng-show="assessmentFlag == 4">  
     <div ng-if="assessmentTestImages.length>0">
    <table class="table table-bordered">
                  <thead>
                  <tr>
                    <th>Start Time: <h5 style="display: inline-block;margin-left: 5px;"> {{dateformate(assessmentTestImages[0].assessment.startTime)}}</h5></th>
                    <th>End Time: <h5 style="display: inline-block;margin-left: 5px;">{{dateformate(assessmentTestImages[0].assessment.endTime)}}</h5></th>
                  	
                  </tr>
                  </thead>
                </table>
  	<span ng-repeat="assImg in assessmentTestImages"> 
  	
  	<div class="col-md-3">
 	<a class="thumbnail" data-toggle="modal" data-target="#lightbox-new" ng-click="showThisBigImage(assImg.filePath)"> 
 	<img src="{{assImg.filePath}}" alt="{{assImg.name}}">{{assImg.name}}</a>
<!--  	<img src="https://s3.ap-south-1.amazonaws.com/cruisecareer/userProfile/9afeb180-1a28-40be-967e-63fa38894565ship_2.jpg" alt="{{assImg.name}}" >{{assImg.name}}</a>
 --> 	</div>
 	</span> 
 	</div>
 	<div ng-if="assessmentTestImages.length==0"><h4 class="no-data">No Images found</h4></div>
 	</div>
 	<!-- <img src="https://s3.ap-south-1.amazonaws.com/cruisecareer/userProfile/9afeb180-1a28-40be-967e-63fa38894565ship_2.jpg" class="img-responsive" alt="{{assImg.name}}"></a>{{assImg.name}}</span> -->
<!--     	<span ng-repeat="assImg in assessmentTestImages" ><img src="{{assImg.filePath}}" alt="{{assImg.name}}">{{assImg.name}}</span>
 -->   
<div id="lightbox-new" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" style="height: 475px;">
    <div class="modal-dialog">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">X</button>
        <div class="modal-content">
            <div class="modal-body">
                <span><img src="{{bigImage}}" style="width: 570px;height: 406px;" alt="" /></span>
            </div>
        </div>
    </div>
</div>
           
            </div>      
  </div>
  
  <div id="comm" class="tab-pane fade in active inner-popup-tabs1" ng-show="showflag == 6">
   <div ng-if="commFlag == false"><p class="data-av">Communication log not Found!!!</p></div>
    <ul type="none" class="detailed-ul" ng-if="commFlag == true"  ng-repeat="j in comLogList"> 
      <li>
        <!-- <h4>{{j.templeteName}} {{j.mode}}</h4> -->
        <h4 class="communi-temp-mode">{{j.templeteName}}</h4>
        <p>{{dateformate(j.dateTime) |  date:'dd-MM-yyyy hh:mm a'}}</p>
        <h4>Mode: {{j.mode}}</h4>
       <!--  <p>{{j.dateTime}}</p> -->
      </li>
    </ul>
  </div>
  
  <div id="act" class="tab-pane fade in active inner-popup-tabs1" ng-show="showflag == 7">
  <div ng-if="activityFlag == false"><p class="data-av">Activity log not Found!!!</p></div>
  <ul type="none" class="detailed-ul" ng-if="activityFlag == true" ng-repeat="a in useractivityList">
      <li>
    
    <h4>{{a.activityDescription}}</h4>
       <p> {{a.createdDate}}</p>
      </li>
    </ul>
  </div>
  
  <div id="comm" class="tab-pane fade in active inner-popup-tabs1" ng-show="showflag == 8">
  <div ng-if="schedularFlag == false"><p class="data-av">Scheduler log not Found!!!</p></div>
										<ul type="none" class="detailed-ul" ng-if="schedularFlag == true" ng-repeat="j in scheLogList">
											<li>
												<h4>{{j.name}}</h4>
												<p>{{dateformate(j.startTimeDate) |  date:'dd-MM-yyyy hh:mm a'}}</p>
											</li>
										</ul>
									</div>
									
									
		<div id="todo" class="tab-pane fade in active"  ng-show="showflag == 9">
		<div ng-if="toDoFlag == false"><p class="data-av">No To Do List Found!!!</p></div>
    <table ng-if="toDoFlag == true" class="table table-striped red-table">
            <caption>Compliance Status List</caption>
            <thead>
              <tr>
              <!--   <th>
                  <div class="chckbx-cntnr zeromargin">
                      <input type="checkbox" id="all" name="check" class="flash">
                      <label class="cstmchk_lbl" for="all"></label> 
                    </div>
                </th> -->
                <th>Document Name</th>
                <th>Expected Date</th>
                <th>Completion Date</th>
                <th>Status</th>
                <th>Download Document</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="cd in compliancesDetails" >
                         
                <td>{{cd.compliance.complianceName}}</td>
                <td>
                   <div class="form-group" style="margin-bottom: 0 !important;">
                    <input type="text" class="form-control flat-control-inner dateonly" placeholder="{{formatDate1(cd.updatedDate)}}" disabled style="margin-bottom: 0 !important;">
                  </div>
                </td>   
                <td>
                    <div class="form-group" style="margin-bottom: 0 !important;">
                     <input type="text" class="form-control flat-control-inner enterDate" ng-if="getflag(cd.compliance.id)==true" placeholder="{{formatDate1(cd.createdDate) | date:'dd-MM-yyyy'}}" disabled style="margin-bottom: 0 !important;"> 
                      <input type="text" class="form-control flat-control-inner enterDate" ng-if="getflag(cd.compliance.id)==false" placeholder="" disabled style="margin-bottom: 0 !important;">                                                                                                    
                    </div>
                </td> 
                
                <td class="text-center">
                  <!-- <div class="chckbx-cntnr zeromargin">
                      <input type="checkbox" id="todayBox" name="check" class="flash todate-date">
                      <label class="cstmchk_lbl" for="todayBox"></label> 
                    </div> -->
                    <div class="chckbx-cntnr zeromargin">  
                      <input type="checkbox" id="{{cd.compliance.id}}" ng-if="getflag(cd.compliance.id)==true" ng-checked="true" onclick="return false;" name="check" class="flashadmin">
                      <input type="checkbox" id="{{cd.compliance.id}}" ng-if="getflag(cd.compliance.id)==false" onclick="return false;" name="check" class="flashadmin">
                      <label class="cstmchk_lbladmin" for="{{cd.compliance.id}}"></label> 
                    </div>
                </td>  

                <td class="text-center">               
                <label ng-if="buttondisable(cd.path)==false" class="btn bigblue-btn new-btn-dwn" ng-disabled="false">
                  <i style="margin-right: 33px;" class="fa fa-download" aria-hidden="true" ng-click="download(cd.path)"  ng-disabled="false" id="download-doc"></i></label>
				 <label ng-if="buttondisable(cd.path)==true" class="btn bigblue-btn new-btn-dwn" ng-disabled="true"> <i class="fa fa-download" style="margin-right: 33px;" aria-hidden="true"  id="download-doc" ></i></label>                                                   
                </td> 
              </tr>                       
             </tbody>
          </table>     
  </div>
  
  
  <div id="assess" class="tab-pane fade in active"  ng-show="showflag == 10">
  <div id="exTab2" > 
          <ul  class="nav nav-pills">
              
                <li id="activetab11" class="active" style="cursor: pointer;">
                	<a ng-click="currentPosting('current',id)" >Current Posting</a>
                </li>       
                <li id="activetab22" style="cursor: pointer;">
                	<a ng-click="currentPosting('future',id)">Future Posting</a>
                </li>
                <li id="activetab33" style="cursor: pointer;">
                	<a ng-click="currentPosting('past',id)">Past Posting</a>
                </li>
              </ul>
  
  <div class="tab-content clearfix" style="padding: 20px 0px;">
            
  <div class="tab-pane active" id="" ng-show="currentFlag">
  <div class="table-responsive">
  	<!-- <div id="current-posting" class="tab-pane fade in active"  > -->
  	<div ng-if="cPostingFlag == false"><p class="data-av">No Current Job Postings Found!!!</p></div>
  		
     <table class="table table-striped red-table" ng-if="cPostingFlag == true">
     <caption>Current Posting</caption>
                    <thead>
                      <tr>
                        <th>Brand</th>
                        <th>Ship</th>
                        <th>Department</th>
                        <th>Position</th>
                        <th>Embark Port</th>
                        <th>Embark Date</th>
                        <th>Disembark Date</th>
                      </tr>
                    </thead>
                    <tbody>
                    	<tr ng-repeat="c in postings">
                    		<td>{{c.brand.brandName}}</td>
                    		<td>{{c.ship.shipName}}</td>
                    		<td>{{c.category.categoryName}}</td>
                    		<td>{{c.position.positonname}}</td>
                    		<td>{{c.Embarkport}}</td>
                    		<td>{{c.Embarkdates}}</td>
                    		<td>{{c.Disembarkdates}}</td>
                    	</tr>
                    </tbody>
                    </table>
                  </div>
                  </div>
                  
                  <div class="tab-pane active" id="" ng-show="futureFlag">
  <div class="table-responsive">
  	<!-- <div id="current-posting" class="tab-pane fade in active"  > -->
  	<div ng-if="fPostingFlag == false"><p class="data-av">No Future Job Postings Found!!!</p></div>
  		
     <table class="table table-striped red-table" ng-if="fPostingFlag == true">
     <caption>Future Posting</caption>
                    <thead>
                      <tr>
                        <th>Brand</th>
                        <th>Ship</th>
                        <th>Department</th>
                        <th>Position</th>
                        <th>Embark Port</th>
                        <th>Embark Date</th>
                        <th>Disembark Date</th>
                      </tr>
                    </thead>
                    <tbody>
                    	<tr ng-repeat="c in postings">
                    		<td>{{c.brand.brandName}}</td>
                    		<td>{{c.ship.shipName}}</td>
                    		<td>{{c.category.categoryName}}</td>
                    		<td>{{c.position.positonname}}</td>
                    		<td>{{c.Embarkport}}</td>
                    		<td>{{c.Embarkdates}}</td>
                    		<td>{{c.Disembarkdates}}</td>
                    	</tr>
                    </tbody>
                    </table>
                  </div>
                  </div>
                  
                  
  <div class="tab-pane active" id="" ng-show="pastFlag">
  <div class="table-responsive">
  	<!-- <div id="current-posting" class="tab-pane fade in active"  > -->
  	<div ng-if="postings.length <= 0"><p class="data-av">No Past Job Postings Found!!!</p></div> 		
     <table class="table table-striped red-table" ng-if="postings.length > 0">
     <caption>Past Posting</caption>
                    <thead>
                      <tr>
                        <th>Brand</th>
                        <th>Ship</th>
                        <th>Department</th>
                        <th>Position</th>
                        <th>Embark Port</th>
                        <th>Embark Date</th>
                        <th>Disembark Date</th>
                      </tr>
                    </thead>
                    <tbody>
                    	<tr ng-repeat="c in postings">
                    		<td>{{c.brand.brandName}}</td>
                    		<td>{{c.ship.shipName}}</td>
                    		<td>{{c.category.categoryName}}</td>
                    		<td>{{c.position.positonname}}</td>
                    		<td>{{c.Embarkport}}</td>
                    		<td>{{c.Embarkdates}}</td>
                    		<td>{{c.Disembarkdates}}</td>
                    	</tr>
                    </tbody>
                    </table>
                  </div>
                  </div>
                      
  	</div>
</div>
</div>
</div>
        </div>
      </div>
       
      <div class="modal-footer text-right" style="text-align: right;border-top: 1px solid #e0e0e0;">
        <button type="button" class="btn btn-default" data-dismiss="modal" id="" ng-click="refreshModal()">Close</button>
      </div>
    </div>

  </div>
</div>
    

<!-- Modal Candidates -->
<div id="candidates_modal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content flat-modal">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">X</button>
        <h4 class="modal-title common-title" style="margin-left: 0;">Selected Employees</h4>
      </div>
      <div class="modal-body flat-body">
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Name</th>
              <th>Remove</th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="n in userlistBySlotId">
              <td>{{n.firstName}} {{n.lastName}}</td>
              <td><span class="cross-mark" ng-click="removeselectedcandidate(n)"><i class="icon-x-circle"></i></span></td>
            </tr>
           
          </tbody>
        </table>
      </div>
      <div class="modal-footer text-left">
        <button type="button" class="btn btn-default" ng-click="deleteuserbySlotId()" data-dismiss="modal" id="">Save</button>
        <a class="btn btn-link" data-dismiss="modal">Cancel</a>
      </div>
    </div>

  </div>
</div>
 <div id="act" class="tab-pane fade">
    <ul type="none" class="detailed-ul">
      <li>
        <h4>Aditya Updated his profile</h4>
        <p>23-11-2017, 10:15PM </p>
      </li> 
      <li>
        <h4>Aditya Registered with cruisecareers.in</h4>
        <p>23-11-2017, 09:30PM </p>
      </li>
    </ul>
  </div>  

    <!-- -------"changeTemplateList"------ -->
  <div id="changeTemplate" class="modal fade" role="dialog">
  <div class="modal-dialog ">

    <!-- Modal content-->
    <div class="modal-content flat-modal">
      <div class="modal-header">
        <button type="button" class="close" style="color:black !important;" ng-click="changetemp=0;enabledTemp()" onclick="bodyclass()">X</button>
        <h4 class="modal-title common-title" style="margin-left: 0;">Change Template</h4>
      </div>
      <div class="modal-body flat-body">
          <div class="clearfix" ></div>
        Are you sure want to change template ?
      <div class="modal-footer text-left">
        <button type="button" class="btn btn-default" id="show_ass" ng-click="changetemp=1;enabledTemp()" onclick="bodyclass()">OK</button>
        <a class="btn btn-link"  ng-click="changetemp=0;enabledTemp()" onclick="bodyclass()">Cancel</a>
      </div>
    </div>
   </div>
    </div>
    </div>
    
    </div>
     
   </div> 
   </div>
   
   <!----Modal Communication Manager---->
    <form id="communicationmanager" ng-submit="sendEmailtoUsers(communicationmanager.subTemplateType,communicationmanager.type)" name="communicationmanager">
<div id="comm-manager" class="modal fade" role="dialog">
  <div class="modal-dialog modal-lg ">

    <!-- Modal content-->
    <div class="modal-content flat-modal">
    
      <div class="modal-header">
        <button type="button" class="close" ng-click="reload()">X</button>
        <h4 class="modal-title common-title" style="margin-left: 0;">Communication Manager</h4>
      </div>
     
      <div class="modal-body flat-body">             
        <div class="row">
          <div class="col-md-4">
        <label>Select communication mode:</label>
        <div class="form-group">
          <select id="mode" class="form-control flat-control-inner" ng-model="communicationmanager.mode" ng-options="q.id as q.mode for q in modesList" ng-change="fetchTmplttypeslist(communicationmanager.mode)" required>
           <option value="">--Select--</option>        
          </select>
        </div>
      </div>
       <div class="col-md-4">
        <label>Category</label>
        <div class="form-group">
          <select id="category" class="form-control flat-control-inner" ng-change="getsubtemplateTypeList(communicationmanager.type)"  ng-model="communicationmanager.type" ng-options="c.id as c.type for c in temptypelist" required>
           <option value="">--Select--</option>          
          </select>         
        </div>        
      </div> 
     
      <div class="col-md-4">
        <label>Template</label>
        <div class="form-group">
          <select  id="template" class="form-control flat-control-inner" ng-model="communicationmanager.subTemplateType" ng-options="s.id as s.type for s in SubTemplateTypeList" ng-change="fetchTmpltpreview(communicationmanager.subTemplateType)" required>
           <option value="">--Select--</option>        
          </select>
        </div>
      </div>     
    </div>
  
    <div class="row">
       <div class="col-md-4">
        <label ng-if="Slotflag">Event Slot</label>
        <div class="form-group">
          <select class="form-control flat-control-inner" ng-if="Slotflag" ng-model="communicationmanager.eventslot" ng-options="s as s for s in EventSolts" ng-change="changealias(communicationmanager.eventslot)"required>
           <option value="">--Select--</option>        
          </select>
        </div>
      </div>
      </div> 
      

      <div>
        <div class="form-group">
          <label>Template Preview:</label>
          <textarea  id="templatepreview" class="form-control flat-control-inner" cols="7" rows="7" id="preview-text" ng-bind="tmptpreview[0].Body" disabled></textarea>
                
        </div>
      </div> 
      </div>
      <div class="modal-footer text-left">
        <button type="submit" class="btn btn-default">Send</button>
       <!--  <a class="btn btn-link" data-dismiss="modal">Cancel</a> -->
        <a class="btn btn-link" ng-click="reload()">Cancel</a>        
      </div>
    </div>
  </div>
</div>
 </form>
 
 
     <!-- assigned assessments modal -->
  
<div id="assigned-assessments-modal" class="modal fade" role="dialog">
  <div class="modal-dialog modal-lg">
    <div class="modal-content flat-modal">
      <div class="modal-header">
        <button type="button" class="close" style="color:#fff !important;" ng-click="clearmodal()">X</button>
        <h4 class="modal-title common-title" style="margin-left: 0;">Assign Assessments</h4>
      </div>
      <div class="modal-body flat-body">
      <div class="clearfix" ></div>
      <div class="filteret-area">
      <label style="margin-left: 14px;">Filter</label> 
      <form ng-submit="applyFilter(data)">
      
      <div class="col-md-3">
      	<div class="form-group">  
                <select class="form-control flat-control-search mar-bottom-zero" id="openinterview" ng-model="data.brand" ng-change="fetchShipList(data.brand)">
                <option value = "">Select Brand</option>
                <option data-ng-repeat="q in brandlist" value="{{q.id}}" ng-selected="q.id==data.brand">{{q.brandName}}</option>
                </select>
        </div>
      </div>
      
      <div class="col-md-3">
      	<div class="form-group">  
                <select class="form-control flat-control-search mar-bottom-zero" id="openinterview" ng-model="data.ship">
                <option value = "">Select Ship</option>
                <option data-ng-repeat="s in shipsList" value="{{s.id}}" ng-selected="s.id==data.ship">{{s.name}}</option>
                </select>
        </div>
      </div>
      
       <div class="col-md-3">
      	<div class="form-group">
               
               <select class="form-control flat-control-search mar-bottom-zero" id="openinterview" ng-model="data.department" ng-change="fetchpositionlist(data.department)">
               <option value = "">Select Department</option>
               <option data-ng-repeat="q in departmentlist" value="{{q.id}}" ng-selected="q.id==data.department">{{q.categoryName}}</option>
               </select>
               
        </div>
      </div>
       <div class="col-md-3">
      	<div class="form-group">
                <select class="form-control flat-control-search mar-bottom-zero" id="openinterview" ng-model="data.position">
                <option value = "">Select Position</option>
                <option data-ng-repeat="q in positionlist" value="{{q.id}}" ng-selected="q.id==data.position">{{q.positonname}}</option>
                </select>
        </div>
      </div>
       <div class="col-md-1">
      	<button type="submit" class="btn btn-default btn-create" id=""><i class="fa fa-filter"></i></button>
      </div>
      <div class="col-md-2"></div>
      </form>
      </div>
      
      
      <div class="clearfix"></div>      
      <form>
      <div class="col-md-3">
      <div class="form-group">
      <label>Select Date*</label>       	  
               <input type="text" id="assessDate" ng-model="date" class="form-control flat-control-inner dateonly" required>
        </div>
      </div>
              
      
      <div class="clearfix"></div>
      <div class="table-cntnr table-responsive inner-popup-tabs">
      <table class="table table-striped red-table list-of-ass">
      	<caption>List of Assessment</caption>
      	<thead>
      		<tr>          		 	
      		<th>Assessment Name <i ng-click="SortingAssessmentMasterList('assessment',searchterm)" class="fa fa-sort" aria-hidden="true"></i></th>      		
      		<th>Auto Assess</th>
      		<th>No of questions</th>
      		</tr>
      	</thead>
      	<tbody>
      		<tr ng-repeat="a in assessmentList" ng-click="selected(a,a.id)" id="back-tr{{a.id}}">  
      		 		
      		 <td><a href=""  class="profile-tabs">{{a.assessmentName}}</a></td>
            <!--  <td>{{a.assessmentName}}</td>  -->          
             <td ng-if="a.isAutoAssess==true">Yes</td>
             <td ng-if="a.isAutoAssess==false">No</td>
             <td>{{a.questionCount}}</td>
      		</tr>
      		
      	</tbody>
      </table>
      </div>
       <div class="modal-footer text-left">
        <button type="submit" class="btn btn-default" id="show_ass" ng-click="assignAssessment()">Assign</button>
        <a class="btn btn-link" ng-click="clearmodal()">Cancel</a>
      </div>
     </form>
    </div>
   </div>
  </div>
</div>

<!-- Modal Interview Schedule -->
<div id="interview_schedule" class="modal fade" role="dialog">
  <div class="modal-dialog modal-lg">

    <!-- Modal content-->
    <div class="modal-content flat-modal">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">X</button>
        <h4 class="modal-title common-title" style="margin-left: 0;">{{selectedEvent.schedulerName}}</h4>
      </div>
      <div class="modal-body flat-body">

        <div class="table-cntnr">
          <table class="table table-striped red-table">
            <caption>List of All created slots</caption>
            <thead>
              <tr>
                <th></th>
                <th>Date</th>
                <th>Time</th>
                <th>Selected No.</th>
                <th>Total No.</th>
                <th>Balance No.</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat ="i in slotsListById">
                <td>
                  <div class="radio-cntnr"><input type="radio" ng-click ="setEventId(i)"  id="{{i.id}}" name="radio-group" class="flash">
                  <label for="{{i.id}}" class="cstmchk_lbl" ></label></div>
                </td>

        
           
                 <td>{{dateformodal(i.dateTime) | date:'dd-MM-yyyy'}}</td>
                <td>{{i.dateTime.split(" ")[1]}} {{i.dateTime.split(" ")[2]}}</td>       
                <td><a data-toggle="modal" ng-click="fetchusersBysltId(i.id)" >{{i.assignedUsers}}</a></td>
                <td >{{i.candidates}}</td>
                <td>{{i.candidates-i.assignedUsers}}</td>
              </tr>
             

            </tbody>
          </table>
        </div>
         
      </div>
      <div class="modal-footer text-right" style="text-align: right;">

        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="assignslotstouser()" id="">Schedule</button>
        <a class="btn btn-link" data-dismiss="modal" ng-click="cancelAssignment()">Cancel</a>
      </div>
     
    </div>

  </div>
</div>

<div id="checkuserinslot" class="modal fade" role="dialog">
  <div class="modal-dialog modal-lg">
    <!-- Modal content-->
    <div class="modal-content flat-modal">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" ng-click="clearEvent()">X</button>
        <h4 class="modal-title common-title" style="margin-left: 0;">{{selectedEvent.schedulerName}}</h4>
      </div>
      <div class="modal-body flat-body">
        <div class="table-cntnr">
          <table class="table table-striped red-table">
            <caption>Selected user(s) already assigned for this schedule, do you still want to continue?</caption>
            <thead>
              <tr>               
                <th>Name</th>
                <th>Slot</th>              
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="x in slotresult"> 
    <td>{{x.name}}</td>
    <td>{{dateformate(x.dateTime) |  date:'dd-MM-yyyy hh:mm a'}}</td>    
    </tr>  
            </tbody>
          </table>
        </div>
         
      </div>
      <div class="modal-footer text-left">
        <button type="button" class="btn btn-default" data-dismiss="modal" ng-click="sure()">Continue</button>        
        <a class="btn btn-link" data-dismiss="modal"  ng-click="clearEvent()">Cancel</a>
      </div>     
    </div>
  </div>
</div>

<!-- missing indos number modal start here -->
 <div class="modal fade" id="missing_indos_number_modal">
  <div class="modal-dialog modal-sm add-brand">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"> <span aria-hidden="true">x</span> </button>
        <h4 class="modal-title">Missing INDoS Numbers</h4>
      </div>
      <div class="modal-body">
      	<div class="missing_indos_list">
      		<table class="table table-hover">	          
	          <tbody>
	            <tr ng-repeat="midno in missingindosnumberlist">
	              <td>{{midno.indosNumber}}</td>
	            </tr>
	        <!--     <tr>
	              <td>1234567890</td>
	            </tr>
	            <tr>
	              <td>1234567890</td>
	            </tr>
	            <tr>
	              <td>1234567890</td>
	            </tr>
	            <tr>
	              <td>1234567890</td>
	            </tr>
	            <tr>
	              <td>1234567890</td>
	            </tr>
	            <tr>
	              <td>1234567890</td>
	            </tr>
	            <tr>
	              <td>1234567890</td>
	            </tr>
	            <tr>
	              <td>1234567890</td>
	            </tr>
	            <tr>
	              <td>1234567890</td>
	            </tr>
	            <tr>
	              <td>1234567890</td>
	            </tr>
	            <tr>
	              <td>1234567890</td>
	            </tr>
	            <tr>
	              <td>1234567890</td>
	            </tr>
	            <tr>
	              <td>1234567890</td>
	            </tr>
	            <tr>
	              <td>1234567890</td>
	            </tr>
	            <tr>
	              <td>1234567890</td>
	            </tr>
	            <tr>
	              <td>1234567890</td>
	            </tr>
	            <tr>
	              <td>1234567890</td>
	            </tr>
	            <tr>
	              <td>1234567890</td>
	            </tr>
	            <tr>
	              <td>1234567890</td>
	            </tr>  -->
	          </tbody>
	        </table>
      	</div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default comment_cancel" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div> 

<!-- Print Employees -->
<div id="print_employees" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content flat-modal">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">x</button>
        <h4 class="modal-title common-title" style="margin-left: 0;">Selected Candidates</h4>
      </div>
      <div class="modal-body flat-body" style="overflow-y: scroll;height: 283px;">
        <div class="text-right">
        
        </div>
        <table class="table table-striped">
          <thead>
            <tr>
            <th>Emp. No.</th>
              <th>Name</th>
               <th>Remove</th> 
            </tr>
          </thead>
          <tbody ng-repeat="s in selectedUserData">
          
            <tr>
            <td>{{s.empl_number}}</td>
              <td>{{s.firstName}} {{s.lastName}}</td>
              <td><span class="cross-mark" id="$index"><i class="icon-x-circle" ng-click="removefromlist($index,s.empl_number)"></i></span></td>
            </tr>       
             
          </tbody>
        </table>
      </div>
      <div class="modal-footer text-left">       
        <a class="btn btn-link" data-dismiss="modal" style="float:right;">Cancel</a>
      </div>
    </div>

  </div>
</div> 


<script type="text/javascript">
$("document").ready(function() {

	  $('.dropdown-menu').on('click', function(e) {
	      if($(this).hasClass('selection-column')) {
	          e.stopPropagation();
	      }
	  });
	});
</script>
    <script>
    $(function () {
        $('.dateonly').datetimepicker({   
        	format : 'DD-MM-YYYY',
           useCurrent: true,
           minDate: new Date()
        });
    });
    </script>
    
        <script type="text/javascript">  
        
        
     /*    
        $("#comm-manager").on('hidden.bs.modal', function () {        	        	
			document.getElementById('communicationmanager').reset();			
    }); */
       
        
          /*     $('#comm-manager').on('hidden.bs.modal', function() {        	   
        	$(this).find("input,textarea,select").val('').end().find("input[type=checkbox], input[type=radio]").prop("checked", "").end();
         	$("#mode")[0].selectedIndex = 0; 
         	$("#template")[0].selectedIndex = 0;
              })   */ 
              
/* Apply Modal open to body */
 $('#changeTemplate').on('hidden.bs.modal', function () {
    $('body').addClass('modal-open');
});         
        	
$(function() {
	 
    $('.chart').easyPieChart({    	
        barColor: '#00aaef',        

    });
    $('.chartnew').easyPieChart({
       
    });   
    
    $('#assess').on('focus',".dateonly", function(){  
        	$('.dateonly').datetimepicker({
      format: 'DD-MM-YYYY',
       useCurrent: false, 
       //minDate:new Date() 
        	
        	});
    });    
    
   //$(".dateonly").datepicker().datepicker("setDate", new Date());   
    
    
});

$("#id_of_textbox").keyup(function(event) {
    if (event.keyCode === 13) {
        $("#id_of_button").click();
    }
});

</script>

<!--interview part-->
<script type="text/javascript">

 $(".speak").hide();
 /* $("#ans-switch").click(function() {
	 alert();
     if($(this).is(":checked")) {
         $(".speaker").show();
     } else {
         $(".speaker").hide();
     }
 });
 
 $(".speaker1").hide();
 $("#ans-switch1").click(function() {
     if($(this).is(":checked")) {
         $(".speaker1").show();
     } else {
         $(".speaker1").hide();
     }
 });
 $(".speaker2").hide();
 $("#ans-switch2").click(function() {
     if($(this).is(":checked")) {
         $(".speaker2").show();
     } else {
         $(".speaker2").hide();
     }
 });
 $(".speaker3").hide();
 $("#ans-switch3").click(function() {
     if($(this).is(":checked")) {
         $(".speaker3").show();
     } else {
         $(".speaker3").hide();
     }
 }); */

 </script>

<!--Exam Selection-->
<script type="text/javascript">
$(document).ready(function(){
	var vidDiv =$('#video-part');
	
	
    $("#examselector").change(function(){
        $(this).find("option:selected").each(function(){
            var optionValue = $(this).attr("value");
            if(optionValue!=""){
                $(".Interview-que").not("." + optionValue).hide();
                $("." + optionValue).show();
                vidDiv.show();
            } else{
                $(".Interview-que").hide();
                vidDiv.hide();
            }
        });
    }).change();
});
</script>

<script>
/* var video, reqBtn, startBtn, stopBtn, ul, stream, recorder;
video = document.getElementById('video');
reqBtn = document.getElementById('request');
startBtn = document.getElementById('start');
stopBtn = document.getElementById('stop');
storeBtn = document.getElementById('store');
ul = document.getElementById('ul');
reqBtn.onclick = requestVideo;
startBtn.onclick = startRecording;
stopBtn.onclick = stopRecording;
startBtn.disabled = true;
ul.style.display = 'none';
stopBtn.disabled = true;

function requestVideo() {
  navigator.mediaDevices.getUserMedia({
      video: true,
      audio: true
    })
    .then(stm => {
      stream = stm;
      reqBtn.style.display = 'none';
      startBtn.removeAttribute('disabled');
      video.src = URL.createObjectURL(stream);
    }).catch(e => console.error(e));
}

function startRecording() {
  recorder = new MediaRecorder(stream, {
    mimeType: 'video/webm'
  });
  recorder.start();
  stopBtn.removeAttribute('disabled');
  startBtn.disabled = true;
}


function stopRecording() {
  recorder.ondataavailable = e => {
    ul.style.display = 'block';
    var a = document.createElement('a'),
      li = document.createElement('li');
    var input = document.getElementById('imgInp');
    a.download = ['video_', (new Date() + '').slice(4, 28), '.webm'].join('');
    console.log(e);
    
    a.href = URL.createObjectURL(e.data);
    //input.value = a.download;
    a.id = 'videoId';
    a.textContent = a.download;
    video.src=e.data;
    li.appendChild(a);
    ul.appendChild(li);
    document.getElementById('videoId').click();
    storeBtn.click();
  };
  recorder.stop();
  startBtn.removeAttribute('disabled');
  stopBtn.disabled = true;
  
}
 */


</script>
<script>
var tab1=document.getElementById('activetab1');
var tab2=document.getElementById('activetab2');
tab1.onclick = activeTab1;
tab2.onclick = activeTab2;
function activeTab1()
{
	document.getElementById("activetab1").setAttribute("class", "active"); 
	document.getElementById("activetab2").setAttribute("class", ""); 
	var el=document.getElementById("interview-que").setAttribute("style", "display: block !important;");
	}
 function activeTab2()
{
	document.getElementById("activetab1").setAttribute("class", ""); 
	document.getElementById("activetab2").setAttribute("class", "active"); 
	var el=document.getElementById("interview-que").setAttribute("style", "display: none !important;");
	} 
 
/*  var zoom==document.getElementById('zoom');
 zoom.onclick=zoomIn;
 function zoomIn()
 {
	 document.getElementById("video").setAttribute("style", "width:100%;hight=100%"); 
 } */
 
 var tab11=document.getElementById('activetab11');
 var tab21=document.getElementById('activetab21');

 tab11.onclick = activeTab11;
 tab21.onclick = activeTab21;
 
 
 function activeTab11()
 {
 	document.getElementById("activetab11").setAttribute("class", "active"); 
 	document.getElementById("activetab21").setAttribute("class", ""); 
 	document.getElementById("activetab31").setAttribute("class", ""); 
 	}
 
 function activeTab21()
 {
 	document.getElementById("activetab21").setAttribute("class", "active"); 
 	document.getElementById("activetab11").setAttribute("class", ""); 
 	document.getElementById("activetab31").setAttribute("class", ""); 
 	/* var el=document.getElementById("interview-que").setAttribute("style", "display: block !important;"); */
 	}
 


 
</script>