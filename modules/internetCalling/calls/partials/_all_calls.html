
<br>
<div class="table-cntnr" style="padding: 0 14px;">
	<table class="table table-striped red-table internet-calling-table"
		style="margin-bottom: 0px;">
		<caption>Call Details</caption>
		<thead>
			<tr>


				<th>Name <i ng-click="SortingfetchCallList('callername',searchterm)" class="fa fa-sort" aria-hidden="true"></i></th>
				<th>Emp Id/Ref No. <i ng-click="SortingfetchCallList('refno',searchterm)" class="fa fa-sort" aria-hidden="true"></i></th>
				<th>Time of call <i ng-click="SortingfetchCallList('timeofcall',searchterm)" class="fa fa-sort" aria-hidden="true"></i></th>
				<th>Description <i ng-click="SortingfetchCallList('desc',searchterm)" class="fa fa-sort" aria-hidden="true"></i></th>
				<!-- <th>Description <i class="fa fa-sort" aria-hidden="true" ng-click="SortingfetchCallList('SubSupportGroup.name',searchterm)" ></i></th> -->
				<th style="vertical-align: middle; text-align: center">Call Durations <!-- <i ng-click="SortingfetchCallList('callduration',searchterm)" class="fa fa-sort" aria-hidden="true"></i> -->
				</th>
				<th style="vertical-align: middle; text-align: center">Incoming Calls </th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="callLog in callLogs"
				ng-class="{'call-green':!callLog.callLog.agentId&&!callLog.missedCall}"
				class="font-20 ">

				<td>{{callLog.user.firstName}} {{callLog.user.lastName}}</td>
				<td ng-if="callLog.user.employeeId">{{callLog.user.employeeId}} </td>
					<td ng-if="!callLog.user.employeeId"> {{callLog.user.refNo}}</td>
				<td>{{dateformate(callLog.createdTimestamp)}}</td>
				<td>{{callLog.subSupportGroup.name}}</td>
				<td style="text-align: center;">{{msToTime(callLog.callDuration)}}</td>
				<td style="text-align: center;" ng-show="test"><a
					ng-click="initiateCommunication(callLog.id,callLog.userid)"
					id="task-flow" data-toggle="tooltip" data-placement="top"
					title="Missed Call" style="font-weight: 500 !important;"><img
						src="resources/img/missed-call.png"
						class="img-responsive workfow-img"
						style="cursor: pointer; height: 25px; margin: 0 auto;"></a></td>
				<td style="text-align: center;"
					ng-show="!callLog.callLog.agentId&&callLog.communicationOption.id==2&&!callLog.missedCall"><a
					ng-click="initiateCommunication(callLog.id,callLog.userid,false)"
					id="task-flow" data-toggle="tooltip" data-placement="top"
					title="Incoming Call" style="font-weight: 500 !important;"><img
						src="resources/img/incoming-phone.png"
						class="img-responsive workfow-img"
						style=" height: 25px; margin: 0 auto;"></a></td>
				<td style="text-align: center;"
					ng-show="callLog.callLog.agentId&&callLog.communicationOption.id==2"><a
					id="task-flow" data-toggle="tooltip" data-placement="top"
					title="Answered Call" style="font-weight: 500 !important;"><img
						src="resources/img/call.png" class="img-responsive workfow-img"
						style=" height: 25px; margin: 0 auto;"></a></td>
				<td
					ng-show="!callLog.callLog.agentId&&callLog.communicationOption.id==2&&callLog.missedCall"><a
					id="task-flow" data-toggle="tooltip" data-placement="top"
					title="Missed Call" style="font-weight: 500 !important;"><img
						src="resources/img/missed-call.png"
						class="img-responsive workfow-img"
						style="height: 25px; margin: 0 auto;"></a></td>
				<td style="text-align: center;"
					ng-show="!callLog.callLog.agentId&&callLog.communicationOption.id==1&&!callLog.missedCall"><a
					ng-click="initiateCommunication(callLog.id,callLog.userid,true)"
					id="task-flow" data-toggle="tooltip" data-placement="top"
					title="Incoming Call" style="font-weight: 500 !important;"><img
						src="resources/img/video-icon.png"
						class="img-responsive workfow-img"
						style="height: 25px; cursor:pointer; margin: 0 auto;"></a></td>
				<td style="text-align: center;"
					ng-show="callLog.callLog.agentId&&callLog.communicationOption.id==1"><a
					id="task-flow" data-toggle="tooltip" data-placement="top"
					title="Answered Video Call" style="font-weight: 500 !important;"><img
						src="resources/img/facetime-button.png"
						class="img-responsive workfow-img"
						style="height: 25px; margin: 0 auto;"></a></td>
				<td
					ng-show="!callLog.callLog.agentId&&callLog.communicationOption.id==1&&callLog.missedCall"><a
					id="task-flow" data-toggle="tooltip" data-placement="top"
					title="Missed Call" style="font-weight: 500 !important;"><img
						src="resources/img/missed-call.png"
						class="img-responsive workfow-img"
						style=" height: 25px; margin: 0 auto;"></a></td>

				<td style="text-align: center;"
					ng-show="callLog.communicationOption.name=='Voice Message'"><a
					ng-click="showAudioMessage(callLog)" id="task-flow"
					data-toggle="tooltip" data-placement="top" title="Voice Message"
					style="font-weight: 500 !important;">
					
					<i ng-if="callLog.callLog.agentId" class="fa fa-microphone" style="color: #333;"></i>
					<i ng-if="!callLog.callLog||!callLog.callLog.agentId" class="fa fa-microphone" style="cursor:pointer !important;color: #449724;"></i>
						</a></td>
				<!--  <td style="text-align: center;" ng-show="callLog.communicationOption.name=='Voice Message'"><a  id="task-flow" data-toggle="tooltip" data-placement="top" title="Voice Message" style="font-weight: 500 !important;"><i class="fa fa-microphone" data-target="#audio-details" data-toggle="modal" style="color: #333;"></i></a></td>  -->
				<td style="text-align: center;"
					ng-show="callLog.communicationOption.name=='Text Message'"><a
					ng-click="showTxtMessage(callLog) " id="task-flow"
					data-toggle="tooltip" data-placement="top" title="Text Message"
					style="font-weight: 500 !important;">
					<i ng-if="callLog.callLog.agentId" class="fa  fa-envelope"
						style="color: #333;"></i>
						<i ng-if="!callLog.callLog||!callLog.callLog.agentId" class="fa  fa-envelope"
						style="cursor:pointer;color: #449724;"></i>
						
						</a></td>
				<!-- <td style="text-align: center;" ng-show="callLog.communicationOption.name=='Answered Call'"><a  ng-click="textCommunicationid(callLog.id,callLog.userid)" id="task-flow" data-toggle="tooltip" data-placement="top" title="Answered Call" style="font-weight: 500 !important;"><i class="img/call.png" class="img-responsive workfow-img" style="cursor: pointer;height: 25px;margin: 0 auto;"></a> -->
			</tr>
		</tbody>
	</table>

	<div class="text-right">
		<br>
		<ul class="pagination" style="margin-top: 0;">
			<li><a ng-hide="start == 0" ng-click="previous()">&laquo;</a>
			<li ng-repeat="i in navButtons"
				ng-class="$parent.offset == i * $parent.limit && 'active'"><a
				class="" ng-click="current(i)">{{i+1}}</a></li>
			<li><a ng-hide="(((start+5)*10) + 10) >= count"
				ng-click="next()">&raquo;</a></li>
		</ul>
	</div>
</div>
